"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[1828],{81828:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.parentLoading,expression:"parentLoading"}],staticClass:"container"},[a("generic-page-header",{attrs:{"has-button-back":"",title:e.t("createPair.title"),tooltip:e.t("pool.description")},on:{back:e.handleBack}}),a("s-form",{staticClass:"el-form--actions",attrs:{"show-message":!1}},[a("s-float-input",{staticClass:"s-input--token-value",attrs:{size:"medium",value:e.firstTokenValue,decimals:e.firstTokenDecimals,"has-locale-string":"",delimiters:e.delimiters,max:e.getMax(e.firstTokenAddress),disabled:!e.areTokensSelected},on:{input:function(t){return e.handleTokenChange(t,e.setFirstTokenValue)}}},[a("div",{staticClass:"input-line",attrs:{slot:"top"},slot:"top"},[a("div",{staticClass:"input-title"},[a("span",{staticClass:"input-title--uppercase input-title--primary"},[e._v(e._s(e.t("createPair.deposit")))])]),e.isLoggedIn&&e.firstToken?a("div",{staticClass:"input-value"},[a("span",{staticClass:"input-value--uppercase"},[e._v(e._s(e.t("createPair.balance")))]),a("formatted-amount-with-fiat-value",{attrs:{"value-can-be-hidden":"","with-left-shift":"","value-class":"input-value--primary",value:e.getFormattedTokenBalance(e.firstToken),"fiat-value":e.getFiatBalance(e.firstToken)}})],1):e._e()]),a("div",{staticClass:"s-flex el-buttons",attrs:{slot:"right"},slot:"right"},[e.isAvailable&&e.isFirstMaxButtonAvailable?a("s-button",{staticClass:"el-button--max s-typography-button--small",attrs:{type:"primary",alternative:"",size:"mini","border-radius":"mini"},on:{click:function(t){return e.handleMaxValue(e.firstToken,e.setFirstTokenValue)}}},[e._v(" "+e._s(e.t("buttons.max"))+" ")]):e._e(),a("token-select-button",{staticClass:"el-button--select-token",attrs:{token:e.firstToken}})],1),a("div",{staticClass:"input-line input-line--footer",attrs:{slot:"bottom"},slot:"bottom"},[e.firstToken&&e.firstTokenPrice?a("formatted-amount",{attrs:{"is-fiat-value":"",value:e.fiatFirstAmount}}):e._e(),e.firstToken?a("token-address",{staticClass:"input-value",attrs:{name:e.firstToken.name,symbol:e.firstToken.symbol,address:e.firstToken.address}}):e._e()],1)]),a("s-icon",{staticClass:"icon-divider",attrs:{name:"plus-16"}}),a("s-float-input",{staticClass:"s-input--token-value",attrs:{size:"medium",value:e.secondTokenValue,decimals:e.secondTokenDecimals,"has-locale-string":"",delimiters:e.delimiters,max:e.getMax(e.secondTokenAddress),disabled:!e.areTokensSelected},on:{input:function(t){return e.handleTokenChange(t,e.setSecondTokenValue)}}},[a("div",{staticClass:"input-line",attrs:{slot:"top"},slot:"top"},[a("div",{staticClass:"input-title"},[a("span",{staticClass:"input-title--uppercase input-title--primary"},[e._v(e._s(e.t("createPair.deposit")))])]),e.isLoggedIn&&e.secondToken?a("div",{staticClass:"input-value"},[a("span",{staticClass:"input-value--uppercase"},[e._v(e._s(e.t("createPair.balance")))]),a("formatted-amount-with-fiat-value",{attrs:{"value-can-be-hidden":"","with-left-shift":"","value-class":"input-value--primary",value:e.getFormattedTokenBalance(e.secondToken),"fiat-value":e.getFiatBalance(e.secondToken)}})],1):e._e()]),a("div",{staticClass:"s-flex el-buttons",attrs:{slot:"right"},slot:"right"},[e.isAvailable&&e.isSecondMaxButtonAvailable?a("s-button",{staticClass:"el-button--max s-typography-button--small",attrs:{type:"primary",alternative:"",size:"mini","border-radius":"mini"},on:{click:function(t){return e.handleMaxValue(e.secondToken,e.setSecondTokenValue)}}},[e._v(" "+e._s(e.t("buttons.max"))+" ")]):e._e(),a("token-select-button",{staticClass:"el-button--select-token",attrs:{icon:"chevron-down-rounded-16",token:e.secondToken},on:{click:e.openSelectSecondTokenDialog}})],1),a("div",{staticClass:"input-line input-line--footer",attrs:{slot:"bottom"},slot:"bottom"},[e.secondToken&&e.secondTokenPrice?a("formatted-amount",{attrs:{"is-fiat-value":"",value:e.fiatSecondAmount}}):e._e(),e.secondToken?a("token-address",{staticClass:"input-value",attrs:{name:e.secondToken.name,symbol:e.secondToken.symbol,address:e.secondToken.address}}):e._e()],1)]),a("slippage-tolerance",{staticClass:"slippage-tolerance-settings"}),a("s-button",{staticClass:"action-button s-typography-button--large",attrs:{type:"primary",disabled:!e.areTokensSelected||e.isEmptyBalance||e.isInsufficientBalance||!e.isAvailable,loading:e.isSelectAssetLoading},on:{click:e.handleCreatePair}},[e.areTokensSelected?e.isAvailable?e.isEmptyBalance?[e._v(" "+e._s(e.t("buttons.enterAmount"))+" ")]:e.isInsufficientBalance?[e._v(" "+e._s(e.t("exchange.insufficientBalance",{tokenSymbol:e.insufficientBalanceTokenSymbol}))+" ")]:[e._v(" "+e._s(e.t("createPair.supply"))+" ")]:[e._v(" "+e._s(e.t("createPair.alreadyCreated"))+" ")]:[e._v(" "+e._s(e.t("buttons.chooseTokens"))+" ")]],2)],1),e.areTokensSelected&&e.isAvailable?[e.isEmptyBalance?a("div",{staticClass:"info-line-container"},[a("p",{staticClass:"info-line-container__title"},[e._v(e._s(e.t("createPair.firstLiquidityProvider")))]),a("info-line",{scopedSlots:e._u([{key:"info-line-prefix",fn:function(){return[a("p",{staticClass:"info-line--first-liquidity",domProps:{innerHTML:e._s(e.t("createPair.firstLiquidityProviderInfo"))}})]},proxy:!0}],null,!1,3709695096)})],1):a("create-pair-transaction-details",{attrs:{"info-only":!1}})]:e._e(),a("select-token",{attrs:{visible:e.showSelectSecondTokenDialog,connected:e.isLoggedIn,asset:e.firstToken},on:{"update:visible":function(t){e.showSelectSecondTokenDialog=t},select:function(t){return e.selectSecondTokenAddress(t.address)}}}),a("confirm-token-pair-dialog",{attrs:{visible:e.showConfirmDialog,"parent-loading":e.parentLoading,"first-token":e.firstToken,"second-token":e.secondToken,"first-token-value":e.firstTokenValue,"second-token-value":e.secondTokenValue,price:e.price,"price-reversed":e.priceReversed,"slippage-tolerance":e.slippageTolerance},on:{"update:visible":function(t){e.showConfirmDialog=t},confirm:e.confirmCreatePair}}),a("network-fee-warning-dialog",{attrs:{visible:e.showWarningFeeDialog,fee:e.formattedFee},on:{"update:visible":function(t){e.showWarningFeeDialog=t},confirm:e.confirmNetworkFeeWariningDialog}})],2)},n=[],s=a(34563),o=a(70655),r=a(53545),l=a(8638),c=a(36930),u=a(82753),d=a(14877),p=a(2591),f=a(33312),k=a(80710),m=a(16546),g=a(74614);const v=f.Q.CreatePair,T=(0,d.Z)(v);let h=class extends((0,r.Wr)(l.tA.NetworkFeeWarningMixin,T,p.Z)){constructor(...e){super(...e),(0,s.Z)(this,"createPair",void 0),(0,s.Z)(this,"delimiters",c.FPNumber.DELIMITERS_CONFIG)}get formattedFirstTokenValue(){return this.formatStringValue(this.firstTokenValue.toString())}get formattedSecondTokenValue(){return this.formatStringValue(this.secondTokenValue.toString())}get isXorSufficientForNextOperation(){return this.isXorSufficientForNextTx({type:c.Operation.CreatePair,amount:this.getFPNumber(this.firstTokenValue)})}async created(){await this.withParentLoading((async()=>{await this.setFirstTokenAddress(u.XOR.address)}))}async handleCreatePair(){if(!this.isXorSufficientForNextOperation){if(this.openWarningFeeDialog(),await this.waitOnNextTxFailureConfirmation(),!this.isWarningFeeDialogConfirmed)return;this.isWarningFeeDialogConfirmed=!1}this.openConfirmDialog()}confirmCreatePair(){return this.handleConfirm(this.createPair)}};(0,o.__decorate)([g.aD.createPair.createPair],h.prototype,"createPair",void 0),h=(0,o.__decorate)([(0,r.wA)({components:{GenericPageHeader:(0,k.kF)(m.z8.GenericPageHeader),SelectToken:(0,k.kF)(m.z8.SelectToken),SlippageTolerance:(0,k.kF)(m.z8.SlippageTolerance),ConfirmTokenPairDialog:(0,k.kF)(m.z8.ConfirmTokenPairDialog),NetworkFeeWarningDialog:(0,k.kF)(m.z8.NetworkFeeWarningDialog),CreatePairTransactionDetails:(0,k.kF)(m.z8.CreatePairTransactionDetails),TokenSelectButton:(0,k.kF)(m.z8.TokenSelectButton),FormattedAmount:l.wx.FormattedAmount,FormattedAmountWithFiatValue:l.wx.FormattedAmountWithFiatValue,InfoLine:l.wx.InfoLine,TokenAddress:l.wx.TokenAddress}})],h);var b=h,C=b,_=a(1001),F=(0,_.Z)(C,i,n,!1,null,"77c20b72",null),y=F.exports}}]);