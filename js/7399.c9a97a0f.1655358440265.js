"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[7399],{67399:function(t,e,s){s.r(e),s.d(e,{default:function(){return T}});var a,i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("dialog-base",{attrs:{visible:t.isVisible,title:t.t("selectToken.title"),"custom-class":"asset-select"},on:{"update:visible":function(e){t.isVisible=e}}},[s("s-tabs",{staticClass:"s-tabs--exchange",attrs:{type:"rounded"},on:{click:t.handleTabClick},model:{value:t.tabValue,callback:function(e){t.tabValue=e},expression:"tabValue"}},[s("search-input",{ref:"search",staticClass:"token-search",attrs:{placeholder:t.activeSearchPlaceholder,autofocus:""},on:{clear:t.handleClearSearch},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),s("s-tab",{attrs:{label:t.t("selectToken.assets.title"),name:"assets"}}),s("s-tab",{staticClass:"asset-select__info",attrs:{label:t.t("selectToken.custom.title"),name:"custom"}},[t.customAsset?[t.alreadyAttached?s("span",[t._v(t._s(t.t("selectToken.custom.alreadyAttached")))]):s("add-asset-details-card",{attrs:{asset:t.customAsset,theme:t.libraryTheme,whitelist:t.whitelist,"whitelist-ids-by-symbol":t.whitelistIdsBySymbol,loading:t.loading},on:{add:t.handleAddAsset}})]:t.searchQuery?s("span",[t._v(t._s(t.t("selectToken.custom.notFound")))]):t._e(),t.connected&&t.sortedNonWhitelistAccountAssets.length?s("div",{staticClass:"token-list_text"},[t._v(" "+t._s(t.sortedNonWhitelistAccountAssets.length)+" "+t._s(t.t("selectToken.custom.text"))+" ")]):t._e()],2),s("select-asset-list",{attrs:{assets:t.activeAssetsList,size:t.assetsListSize,connected:t.connected,"should-balance-be-hidden":t.shouldBalanceBeHidden,"has-fiat-value":""},on:{click:t.selectAsset},scopedSlots:t._u([{key:"action",fn:function(e){return[t.isCustomTabActive?s("div",{staticClass:"token-item__remove",on:{click:function(s){return s.stopPropagation(),t.handleRemoveCustomAsset(e)}}},[s("s-icon",{attrs:{name:"basic-trash-24"}})],1):t._e()]}}])})],1)],1)},o=[],l=s(34563),n=s(70655),c=s(52612),d=s.n(c),r=s(53545),h=s(8638),u=s(32806),A=s(79818),y=s(44372),b=s(16546),v=s(80710),p=s(74614);(function(t){t["Assets"]="assets",t["Custom"]="custom"})(a||(a={}));let _=class extends((0,r.Wr)(u.Z,A.Z,h.tA.LoadingMixin)){constructor(...t){super(...t),(0,l.Z)(this,"tokenTabs",[a.Assets,a.Custom]),(0,l.Z)(this,"tabValue",d()(this.tokenTabs)),(0,l.Z)(this,"connected",void 0),(0,l.Z)(this,"asset",void 0),(0,l.Z)(this,"accountAssetsOnly",void 0),(0,l.Z)(this,"notNullBalanceOnly",void 0),(0,l.Z)(this,"shouldBalanceBeHidden",void 0),(0,l.Z)(this,"libraryTheme",void 0),(0,l.Z)(this,"whitelistAssets",void 0),(0,l.Z)(this,"nonWhitelistAssets",void 0),(0,l.Z)(this,"nonWhitelistAccountAssets",void 0),(0,l.Z)(this,"isLoggedIn",void 0),(0,l.Z)(this,"whitelist",void 0),(0,l.Z)(this,"whitelistIdsBySymbol",void 0),(0,l.Z)(this,"accountAssetsAddressTable",void 0),(0,l.Z)(this,"addAsset",void 0)}async handleTabChange(t){t&&(this.tabValue=d()(this.tokenTabs))}get whitelistAssetsList(){const{asset:t,whitelistAssets:e,accountAssetsAddressTable:s,notNullBalanceOnly:a,accountAssetsOnly:i}=this;return this.getAssetsWithBalances({assets:e,accountAssetsAddressTable:s,notNullBalanceOnly:a,accountAssetsOnly:i,excludeAsset:t}).sort(this.sortByBalance())}get filteredWhitelistTokens(){return this.filterAssetsByQuery(this.whitelistAssetsList)(this.searchQuery)}get isCustomTabActive(){return this.tabValue===a.Custom}get assetsListSize(){return this.isCustomTabActive?5:6}get activeAssetsList(){return this.isCustomTabActive?this.sortedNonWhitelistAccountAssets:this.filteredWhitelistTokens}get activeSearchPlaceholder(){return this.t(this.isCustomTabActive?"selectToken.custom.search":"selectToken.searchPlaceholder")}get alreadyAttached(){return!!this.nonWhitelistAccountAssets[this.searchQuery]}get customAsset(){return this.nonWhitelistAssets[this.searchQuery]??null}get sortedNonWhitelistAccountAssets(){return Object.values(this.nonWhitelistAccountAssets).sort(this.sortByBalance())}async handleAddAsset(){this.customAsset&&(this.isLoggedIn?(await this.withLoading((async()=>await this.addAsset((this.customAsset||{}).address))),this.handleClearSearch()):this.selectAsset(this.customAsset))}handleRemoveCustomAsset(t){h.hi.assets.removeAccountAsset(t.address)}handleTabClick({name:t}){this.tabValue=t,this.handleClearSearch()}};(0,n.__decorate)([(0,r.fI)({default:!1,type:Boolean})],_.prototype,"connected",void 0),(0,n.__decorate)([(0,r.fI)({default:b.u8,type:Object})],_.prototype,"asset",void 0),(0,n.__decorate)([(0,r.fI)({default:!1,type:Boolean})],_.prototype,"accountAssetsOnly",void 0),(0,n.__decorate)([(0,r.fI)({default:!1,type:Boolean})],_.prototype,"notNullBalanceOnly",void 0),(0,n.__decorate)([p.SB.wallet.settings.shouldBalanceBeHidden],_.prototype,"shouldBalanceBeHidden",void 0),(0,n.__decorate)([p.Yn.libraryTheme],_.prototype,"libraryTheme",void 0),(0,n.__decorate)([p.Yn.assets.whitelistAssets],_.prototype,"whitelistAssets",void 0),(0,n.__decorate)([p.Yn.assets.nonWhitelistDivisibleAssets],_.prototype,"nonWhitelistAssets",void 0),(0,n.__decorate)([p.Yn.assets.nonWhitelistDivisibleAccountAssets],_.prototype,"nonWhitelistAccountAssets",void 0),(0,n.__decorate)([p.Yn.wallet.account.isLoggedIn],_.prototype,"isLoggedIn",void 0),(0,n.__decorate)([p.Yn.wallet.account.whitelist],_.prototype,"whitelist",void 0),(0,n.__decorate)([p.Yn.wallet.account.whitelistIdsBySymbol],_.prototype,"whitelistIdsBySymbol",void 0),(0,n.__decorate)([p.Yn.wallet.account.accountAssetsAddressTable],_.prototype,"accountAssetsAddressTable",void 0),(0,n.__decorate)([p.aD.wallet.account.addAsset],_.prototype,"addAsset",void 0),(0,n.__decorate)([(0,r.RL)("visible")],_.prototype,"handleTabChange",null),_=(0,n.__decorate)([(0,r.wA)({components:{DialogBase:y["default"],SelectAssetList:(0,v.kF)(b.z8.SelectAssetList),TokenAddress:h.wx.TokenAddress,SearchInput:h.wx.SearchInput,AddAssetDetailsCard:h.wx.AddAssetDetailsCard}})],_);var m=_,w=m,g=s(1001),k=(0,g.Z)(w,i,o,!1,null,"6f483910",null),T=k.exports}}]);