"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[445],{30445:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dialog-base",{class:["select-node-dialog",e.dialogCustomClass],attrs:{visible:e.visibility,title:e.t("selectNodeDialog.title")},on:{"update:visible":function(t){e.visibility=t}}},[e.isNodeListView?n("select-node",{attrs:{nodes:e.formattedNodeList,"handle-node":e.navigateToNodeInfo,environment:e.soraNetwork,"disable-select":!e.nodeConnectionAllowance},model:{value:e.connectedNodeAddress,callback:function(t){e.connectedNodeAddress=t},expression:"connectedNodeAddress"}}):n("node-info",{attrs:{node:e.selectedNode,existing:e.existingNodeIsSelected,loading:e.isSelectedNodeLoading,removable:e.isSelectedNodeRemovable,connected:e.isSelectedNodeConnected,"handle-back":e.handleBack,"handle-node":e.handleNode,"remove-node":e.removeNode}})],1)},d=[],i=n(83013),s=n(55005),r=n(41067),a=n(1379),c=n(7178),l=n(46108),u=n(55427),h=n(34563),N=(n(35666),n(92222),n(69826),n(21249),n(47941),n(68309),n(70655)),v=n(4588),f=n.n(v),g=n(53545),p=n(8638),k=n(80710),y=n(16546),m=n(14692),w=n(54643),C=n(74614),Z=n(46621),b=n(44372),_="NodeListView",A="NodeInfoView",L=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,d=new Array(o),i=0;i<o;i++)d[i]=arguments[i];return e=t.call.apply(t,[this].concat(d)),(0,h.Z)((0,c.Z)(e),"defaultNodes",void 0),(0,h.Z)((0,c.Z)(e),"nodeAddressConnecting",void 0),(0,h.Z)((0,c.Z)(e),"selectNodeDialogVisibility",void 0),(0,h.Z)((0,c.Z)(e),"nodeConnectionAllowance",void 0),(0,h.Z)((0,c.Z)(e),"soraNetwork",void 0),(0,h.Z)((0,c.Z)(e),"nodeList",void 0),(0,h.Z)((0,c.Z)(e),"connectToNode",void 0),(0,h.Z)((0,c.Z)(e),"addCustomNode",void 0),(0,h.Z)((0,c.Z)(e),"updateCustomNode",void 0),(0,h.Z)((0,c.Z)(e),"removeCustomNode",void 0),(0,h.Z)((0,c.Z)(e),"currentView",_),(0,h.Z)((0,c.Z)(e),"selectedNode",{}),e}return(0,a.Z)(n,[{key:"visibility",get:function(){return this.selectNodeDialogVisibility},set:function(e){this.setSelectNodeDialogVisibility(e),e||this.handleBack()}},{key:"connectedNodeAddress",get:function(){var e,t;return null!==(e=null===(t=this.node)||void 0===t?void 0:t.address)&&void 0!==e?e:""},set:function(e){if(e!==this.node.address){var t=this.findNodeInListByAddress(e);this.handleNode(t)}}},{key:"isSelectedNodeRemovable",get:function(){var e=this;return!this.defaultNodes.find((function(t){var n;return t.address===(null===(n=e.selectedNode)||void 0===n?void 0:n.address)}))}},{key:"isSelectedNodeLoading",get:function(){return!this.nodeConnectionAllowance||this.isConnectingNode(this.selectedNode)}},{key:"isSelectedNodeConnected",get:function(){var e;return this.isConnectedNodeAddress(null===(e=this.selectedNode)||void 0===e?void 0:e.address)}},{key:"existingNodeIsSelected",get:function(){var e,t;return!!this.findNodeInListByAddress(null!==(e=null===(t=this.selectedNode)||void 0===t?void 0:t.address)&&void 0!==e?e:"")}},{key:"isNodeListView",get:function(){return this.currentView===_}},{key:"formattedNodeList",get:function(){var e=this;return this.nodeList.map((function(t){return e.formatNode(t)}))}},{key:"dialogCustomClass",get:function(){return this.isNodeListView?"":"select-node-dialog--add-node"}},{key:"handleNode",value:function(){var e=(0,s.Z)(regeneratorRuntime.mark((function e(t){var n,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.prev=1,e.next=4,this.setCurrentNode(t,n);case 4:this.selectedNode.address===t.address&&this.currentView===A&&this.handleBack(),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](1);case 9:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeNode",value:function(){var e=(0,s.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.removeCustomNode(t),this.handleBack(),!this.isConnectedNodeAddress(t.address)){e.next=5;break}return e.next=5,this.setCurrentNode(this.defaultNodes[0]);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"navigateToNodeInfo",value:function(e){this.selectedNode=e||{},this.changeView(A)}},{key:"handleBack",value:function(){this.changeView(_)}},{key:"getNodePermittedData",value:function(e){return f()(Object.keys(m.X))(e)}},{key:"setCurrentNode",value:function(){var e=(0,s.Z)(regeneratorRuntime.mark((function e(t){var n,o,d,i,s,r,a,c=this,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]&&l[1],o=this.getNodePermittedData(t),!n){e.next=8;break}if(d=this.findInList(this.defaultNodes,o.address),!d){e.next=8;break}return i=this.formatNode(d),s=new w.x({key:"node.errors.existing",payload:{title:i.title}}),e.abrupt("return",this.handleNodeError(s));case 8:if(o.address===this.connectedNodeAddress){e.next=11;break}return e.next=11,this.connectToNode({node:o,onError:function(e){return c.handleNodeError(e,!n)},onDisconnect:this.handleNodeDisconnect,onReconnect:this.handleNodeReconnect});case 11:n&&(r=this.findNodeInListByAddress(o.address),a=this.selectedNode.address||(null===r||void 0===r?void 0:r.address),a?this.updateCustomNode({address:a,node:o}):this.addCustomNode(o)),this.selectedNode=this.findNodeInListByAddress(o.address);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"formatNode",value:function(e){return(0,i.Z)((0,i.Z)({},e),{},{title:e.name&&e.chain?this.t("selectNodeDialog.nodeTitle",{chain:e.chain,name:e.name}):e.name||e.chain,connecting:this.isConnectingNode(e)})}},{key:"changeView",value:function(e){this.currentView=e}},{key:"findInList",value:function(e,t){return e.find((function(e){return e.address===t}))}},{key:"findNodeInListByAddress",value:function(e){return this.findInList(this.formattedNodeList,e)}},{key:"isConnectedNodeAddress",value:function(e){return!!this.connectedNodeAddress&&this.connectedNodeAddress===e}},{key:"isConnectingNode",value:function(e){return this.nodeAddressConnecting===(null===e||void 0===e?void 0:e.address)}}]),n}((0,g.Wr)(Z.Z,p.tA.LoadingMixin));(0,N.__decorate)([C.SB.settings.defaultNodes],L.prototype,"defaultNodes",void 0),(0,N.__decorate)([C.SB.settings.nodeAddressConnecting],L.prototype,"nodeAddressConnecting",void 0),(0,N.__decorate)([C.SB.settings.selectNodeDialogVisibility],L.prototype,"selectNodeDialogVisibility",void 0),(0,N.__decorate)([C.SB.settings.nodeConnectionAllowance],L.prototype,"nodeConnectionAllowance",void 0),(0,N.__decorate)([C.SB.wallet.settings.soraNetwork],L.prototype,"soraNetwork",void 0),(0,N.__decorate)([C.Yn.settings.nodeList],L.prototype,"nodeList",void 0),(0,N.__decorate)([C.aD.settings.connectToNode],L.prototype,"connectToNode",void 0),(0,N.__decorate)([C.aD.settings.addCustomNode],L.prototype,"addCustomNode",void 0),(0,N.__decorate)([C.aD.settings.updateCustomNode],L.prototype,"updateCustomNode",void 0),(0,N.__decorate)([C.aD.settings.removeCustomNode],L.prototype,"removeCustomNode",void 0),L=(0,N.__decorate)([(0,g.wA)({components:{DialogBase:b["default"],ExternalLink:(0,k.kF)(y.z8.ExternalLink),SelectNode:(0,k.kF)(y.z8.SelectNode),NodeInfo:(0,k.kF)(y.z8.NodeInfo)}})],L);var x=L,V=x,B=n(1001),D=(0,B.Z)(V,o,d,!1,null,null,null),S=D.exports}}]);