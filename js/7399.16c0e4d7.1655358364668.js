"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[7399],{67399:function(e,t,s){s.r(t),s.d(t,{default:function(){return S}});var a,n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("dialog-base",{attrs:{visible:e.isVisible,title:e.t("selectToken.title"),"custom-class":"asset-select"},on:{"update:visible":function(t){e.isVisible=t}}},[s("s-tabs",{staticClass:"s-tabs--exchange",attrs:{type:"rounded"},on:{click:e.handleTabClick},model:{value:e.tabValue,callback:function(t){e.tabValue=t},expression:"tabValue"}},[s("search-input",{ref:"search",staticClass:"token-search",attrs:{placeholder:e.activeSearchPlaceholder,autofocus:""},on:{clear:e.handleClearSearch},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),s("s-tab",{attrs:{label:e.t("selectToken.assets.title"),name:"assets"}}),s("s-tab",{staticClass:"asset-select__info",attrs:{label:e.t("selectToken.custom.title"),name:"custom"}},[e.customAsset?[e.alreadyAttached?s("span",[e._v(e._s(e.t("selectToken.custom.alreadyAttached")))]):s("add-asset-details-card",{attrs:{asset:e.customAsset,theme:e.libraryTheme,whitelist:e.whitelist,"whitelist-ids-by-symbol":e.whitelistIdsBySymbol,loading:e.loading},on:{add:e.handleAddAsset}})]:e.searchQuery?s("span",[e._v(e._s(e.t("selectToken.custom.notFound")))]):e._e(),e.connected&&e.sortedNonWhitelistAccountAssets.length?s("div",{staticClass:"token-list_text"},[e._v(" "+e._s(e.sortedNonWhitelistAccountAssets.length)+" "+e._s(e.t("selectToken.custom.text"))+" ")]):e._e()],2),s("select-asset-list",{attrs:{assets:e.activeAssetsList,size:e.assetsListSize,connected:e.connected,"should-balance-be-hidden":e.shouldBalanceBeHidden,"has-fiat-value":""},on:{click:e.selectAsset},scopedSlots:e._u([{key:"action",fn:function(t){return[e.isCustomTabActive?s("div",{staticClass:"token-item__remove",on:{click:function(s){return s.stopPropagation(),e.handleRemoveCustomAsset(t)}}},[s("s-icon",{attrs:{name:"basic-trash-24"}})],1):e._e()]}}])})],1)],1)},i=[],o=s(55005),c=s(41067),r=s(1379),l=s(7178),u=s(46108),d=s(55427),h=s(34563),A=(s(35666),s(92222),s(2707),s(26833),s(68309),s(70655)),v=s(52612),p=s.n(v),y=s(53545),b=s(8638),f=s(32806),m=s(79818),_=s(44372),k=s(16546),w=s(80710),Z=s(74614);(function(e){e["Assets"]="assets",e["Custom"]="custom"})(a||(a={}));var g=function(e){(0,u.Z)(s,e);var t=(0,d.Z)(s);function s(){var e;(0,c.Z)(this,s);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,h.Z)((0,l.Z)(e),"tokenTabs",[a.Assets,a.Custom]),(0,h.Z)((0,l.Z)(e),"tabValue",p()(e.tokenTabs)),(0,h.Z)((0,l.Z)(e),"connected",void 0),(0,h.Z)((0,l.Z)(e),"asset",void 0),(0,h.Z)((0,l.Z)(e),"accountAssetsOnly",void 0),(0,h.Z)((0,l.Z)(e),"notNullBalanceOnly",void 0),(0,h.Z)((0,l.Z)(e),"shouldBalanceBeHidden",void 0),(0,h.Z)((0,l.Z)(e),"libraryTheme",void 0),(0,h.Z)((0,l.Z)(e),"whitelistAssets",void 0),(0,h.Z)((0,l.Z)(e),"nonWhitelistAssets",void 0),(0,h.Z)((0,l.Z)(e),"nonWhitelistAccountAssets",void 0),(0,h.Z)((0,l.Z)(e),"isLoggedIn",void 0),(0,h.Z)((0,l.Z)(e),"whitelist",void 0),(0,h.Z)((0,l.Z)(e),"whitelistIdsBySymbol",void 0),(0,h.Z)((0,l.Z)(e),"accountAssetsAddressTable",void 0),(0,h.Z)((0,l.Z)(e),"addAsset",void 0),e}return(0,r.Z)(s,[{key:"handleTabChange",value:function(){var e=(0,o.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:this.tabValue=p()(this.tokenTabs);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"whitelistAssetsList",get:function(){var e=this.asset,t=this.whitelistAssets,s=this.accountAssetsAddressTable,a=this.notNullBalanceOnly,n=this.accountAssetsOnly;return this.getAssetsWithBalances({assets:t,accountAssetsAddressTable:s,notNullBalanceOnly:a,accountAssetsOnly:n,excludeAsset:e}).sort(this.sortByBalance())}},{key:"filteredWhitelistTokens",get:function(){return this.filterAssetsByQuery(this.whitelistAssetsList)(this.searchQuery)}},{key:"isCustomTabActive",get:function(){return this.tabValue===a.Custom}},{key:"assetsListSize",get:function(){return this.isCustomTabActive?5:6}},{key:"activeAssetsList",get:function(){return this.isCustomTabActive?this.sortedNonWhitelistAccountAssets:this.filteredWhitelistTokens}},{key:"activeSearchPlaceholder",get:function(){return this.t(this.isCustomTabActive?"selectToken.custom.search":"selectToken.searchPlaceholder")}},{key:"alreadyAttached",get:function(){return!!this.nonWhitelistAccountAssets[this.searchQuery]}},{key:"customAsset",get:function(){var e;return null!==(e=this.nonWhitelistAssets[this.searchQuery])&&void 0!==e?e:null}},{key:"sortedNonWhitelistAccountAssets",get:function(){return Object.values(this.nonWhitelistAccountAssets).sort(this.sortByBalance())}},{key:"handleAddAsset",value:function(){var e=(0,o.Z)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.customAsset){e.next=2;break}return e.abrupt("return");case 2:if(!this.isLoggedIn){e.next=8;break}return e.next=5,this.withLoading((0,o.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.addAsset((t.customAsset||{}).address);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 5:this.handleClearSearch(),e.next=9;break;case 8:this.selectAsset(this.customAsset);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleRemoveCustomAsset",value:function(e){b.hi.assets.removeAccountAsset(e.address)}},{key:"handleTabClick",value:function(e){var t=e.name;this.tabValue=t,this.handleClearSearch()}}]),s}((0,y.Wr)(f.Z,m.Z,b.tA.LoadingMixin));(0,A.__decorate)([(0,y.fI)({default:!1,type:Boolean})],g.prototype,"connected",void 0),(0,A.__decorate)([(0,y.fI)({default:k.u8,type:Object})],g.prototype,"asset",void 0),(0,A.__decorate)([(0,y.fI)({default:!1,type:Boolean})],g.prototype,"accountAssetsOnly",void 0),(0,A.__decorate)([(0,y.fI)({default:!1,type:Boolean})],g.prototype,"notNullBalanceOnly",void 0),(0,A.__decorate)([Z.SB.wallet.settings.shouldBalanceBeHidden],g.prototype,"shouldBalanceBeHidden",void 0),(0,A.__decorate)([Z.Yn.libraryTheme],g.prototype,"libraryTheme",void 0),(0,A.__decorate)([Z.Yn.assets.whitelistAssets],g.prototype,"whitelistAssets",void 0),(0,A.__decorate)([Z.Yn.assets.nonWhitelistDivisibleAssets],g.prototype,"nonWhitelistAssets",void 0),(0,A.__decorate)([Z.Yn.assets.nonWhitelistDivisibleAccountAssets],g.prototype,"nonWhitelistAccountAssets",void 0),(0,A.__decorate)([Z.Yn.wallet.account.isLoggedIn],g.prototype,"isLoggedIn",void 0),(0,A.__decorate)([Z.Yn.wallet.account.whitelist],g.prototype,"whitelist",void 0),(0,A.__decorate)([Z.Yn.wallet.account.whitelistIdsBySymbol],g.prototype,"whitelistIdsBySymbol",void 0),(0,A.__decorate)([Z.Yn.wallet.account.accountAssetsAddressTable],g.prototype,"accountAssetsAddressTable",void 0),(0,A.__decorate)([Z.aD.wallet.account.addAsset],g.prototype,"addAsset",void 0),(0,A.__decorate)([(0,y.RL)("visible")],g.prototype,"handleTabChange",null),g=(0,A.__decorate)([(0,y.wA)({components:{DialogBase:_["default"],SelectAssetList:(0,w.kF)(k.z8.SelectAssetList),TokenAddress:b.wx.TokenAddress,SearchInput:b.wx.SearchInput,AddAssetDetailsCard:b.wx.AddAssetDetailsCard}})],g);var T=g,B=T,C=s(1001),x=(0,C.Z)(B,n,i,!1,null,"6f483910",null),S=x.exports}}]);