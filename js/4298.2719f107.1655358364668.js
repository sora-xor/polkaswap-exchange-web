"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[4298],{34298:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("s-form",{ref:"nodeForm",staticClass:"node-info s-flex",attrs:{model:e.nodeModel,rules:e.validationRules},nativeOn:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[n("generic-page-header",{attrs:{"has-button-back":"",title:e.title},on:{back:function(t){return t.stopPropagation(),e.handleBack.apply(null,arguments)}}},[e.existing&&e.removable?[n("s-button",{attrs:{type:"action",icon:"basic-trash-24"},on:{click:function(t){return e.removeNode(e.nodeModel)}}})]:e._e()],2),n("s-form-item",{attrs:{prop:"name"}},[n("s-input",{staticClass:"node-info-input s-typography-input-field",attrs:{placeholder:e.t("nameText"),maxlength:128,disabled:e.existing&&!e.removable},model:{value:e.nodeModel.name,callback:function(t){e.$set(e.nodeModel,"name",t)},expression:"nodeModel.name"}})],1),n("s-form-item",{attrs:{prop:"address"}},[n("s-input",{staticClass:"node-info-input s-typography-input-field",attrs:{placeholder:e.t("addressText"),disabled:e.existing&&!e.removable},model:{value:e.nodeModel.address,callback:function(t){e.$set(e.nodeModel,"address",t)},expression:"nodeModel.address"}})],1),n("s-button",{staticClass:"node-info-button s-typography-button--large",attrs:{"native-type":"submit",type:e.buttonType,disabled:e.buttonDisabled,loading:e.loading}},[e._v(" "+e._s(e.buttonText)+" ")]),n("a",{staticClass:"node-info-button",attrs:{href:e.tutorialLink,target:"_blank",rel:"noreferrer noopener"}},[n("s-button",{staticClass:"node-info-tutorial-button s-typography-button--big",attrs:{type:"tertiary",icon:"question-circle-16","icon-position":"right"}},[e._v(" "+e._s(e.t("selectNodeDialog.howToSetupOwnNode"))+" ")])],1)],1)},a=[],r=n(55005),i=n(83013),d=n(41067),s=n(1379),l=n(7178),c=n(46108),u=n(55427),p=n(34563),f=(n(35666),n(74916),n(15306),n(47042),n(92222),n(47941),n(68309),n(70655)),h=n(53545),g=n(80710),v=n(16546),y=(n(24603),n(39714),"wss?:\\/\\/"),m="(?::\\d{1,5})",b="(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)*[a-z0-9][a-z0-9-]{0,61}[a-z0-9]",Z="\\/[a-z0-9-_]+",k="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)",_="".concat(k,"(?:\\.").concat(k,"){3}"),x=function(e){return"^".concat(e)},w=function(e){return"^".concat(e,"$")},N=new RegExp(x(y)),D=new RegExp(w("".concat(b).concat(m,"?(").concat(Z,")*/?"))),M=new RegExp(w("".concat(_).concat(m,"?(").concat(Z,")*/?"))),C=n(14692),z=n(32806),E=n(25108),F=function(e){return function(t,n,o){if(!n)return o(new Error(e("selectNodeDialog.messages.emptyAddress")));if(!N.test(n))return o(new Error(e("selectNodeDialog.messages.incorrectProtocol")));var a=n.replace(N,"");if(!D.test(a)&&!M.test(a))return o(new Error(e("selectNodeDialog.messages.incorrectAddress")));o()}},I=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},B=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,d.Z)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a)),(0,p.Z)((0,l.Z)(e),"handleBack",void 0),(0,p.Z)((0,l.Z)(e),"handleNode",void 0),(0,p.Z)((0,l.Z)(e),"removeNode",void 0),(0,p.Z)((0,l.Z)(e),"node",void 0),(0,p.Z)((0,l.Z)(e),"existing",void 0),(0,p.Z)((0,l.Z)(e),"loading",void 0),(0,p.Z)((0,l.Z)(e),"removable",void 0),(0,p.Z)((0,l.Z)(e),"connected",void 0),(0,p.Z)((0,l.Z)(e),"tutorialLink",v.yX.nodes.tutorial),(0,p.Z)((0,l.Z)(e),"validationRules",{name:[{required:!0,message:e.t("selectNodeDialog.messages.emptyName"),trigger:"blur"}],address:[{validator:F(e.t),trigger:"blur"}]}),(0,p.Z)((0,l.Z)(e),"nodeModel",(0,i.Z)({},C.X)),e}return(0,s.Z)(n,[{key:"created",value:function(){var e=this;this.nodeModel=Object.keys(C.X).reduce((function(t,n){var o;return(0,i.Z)((0,i.Z)({},t),{},(0,p.Z)({},n,null!==(o=e.node[n])&&void 0!==o?o:C.X[n]))}),{})}},{key:"buttonText",get:function(){return this.existing?this.nodeDataChanged?this.t("selectNodeDialog.updateNode"):this.connected?this.t("selectNodeDialog.connected"):this.t("selectNodeDialog.select"):this.t("selectNodeDialog.addNode")}},{key:"buttonDisabled",get:function(){return this.connected&&!this.nodeDataChanged}},{key:"buttonType",get:function(){return this.nodeDataChanged||!this.existing?"primary":"tertiary"}},{key:"title",get:function(){return this.existing?this.node.title:this.t("selectNodeDialog.customNode")}},{key:"nodeDataChanged",get:function(){return this.nodeModel.name!==this.node.name||this.nodeModel.address!==this.node.address}},{key:"submitForm",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs.nodeForm.validate();case 3:t=(0,i.Z)((0,i.Z)({},this.nodeModel),{},{address:I(this.nodeModel.address)}),this.handleNode(t,!this.existing||this.nodeDataChanged),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),E.warn(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}((0,h.Wr)(z.Z));(0,f.__decorate)([(0,h.fI)({default:function(){},type:Function})],B.prototype,"handleBack",void 0),(0,f.__decorate)([(0,h.fI)({default:function(){},type:Function})],B.prototype,"handleNode",void 0),(0,f.__decorate)([(0,h.fI)({default:function(){},type:Function})],B.prototype,"removeNode",void 0),(0,f.__decorate)([(0,h.fI)({default:function(){return{}},type:Object})],B.prototype,"node",void 0),(0,f.__decorate)([(0,h.fI)({default:!1,type:Boolean})],B.prototype,"existing",void 0),(0,f.__decorate)([(0,h.fI)({default:!1,type:Boolean})],B.prototype,"loading",void 0),(0,f.__decorate)([(0,h.fI)({default:!1,type:Boolean})],B.prototype,"removable",void 0),(0,f.__decorate)([(0,h.fI)({default:!1,type:Boolean})],B.prototype,"connected",void 0),B=(0,f.__decorate)([(0,h.wA)({components:{GenericPageHeader:(0,g.kF)(v.z8.GenericPageHeader),ExternalLink:(0,g.kF)(v.z8.ExternalLink)}})],B);var R=B,T=R,A=n(1001),$=(0,A.Z)(T,o,a,!1,null,"42f2ebb6",null),L=$.exports}}]);