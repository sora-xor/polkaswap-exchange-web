"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[4378],{64378:function(e,t,i){i.r(t),i.d(t,{default:function(){return S}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.parentLoading,expression:"parentLoading"}],staticClass:"container"},[i("generic-page-header",{attrs:{"has-button-back":"",title:e.t("addLiquidity.title"),tooltip:e.t("pool.description")},on:{back:e.handleBack}}),i("s-form",{staticClass:"el-form--actions",attrs:{"show-message":!1}},[i("s-float-input",{staticClass:"s-input--token-value",attrs:{size:"medium",value:e.firstTokenValue,decimals:e.firstTokenDecimals,"has-locale-string":"",delimiters:e.delimiters,max:e.getMax(e.firstTokenAddress),disabled:!e.areTokensSelected},on:{input:function(t){return e.handleTokenChange(t,e.setFirstTokenValue)},focus:function(t){return e.setFocusedField("firstTokenValue")},blur:e.resetFocusedField}},[i("div",{staticClass:"input-line",attrs:{slot:"top"},slot:"top"},[i("div",{staticClass:"input-title"},[i("span",{staticClass:"input-title--uppercase input-title--primary"},[e._v(e._s(e.t("createPair.deposit")))])]),e.isLoggedIn&&e.firstToken?i("div",{staticClass:"input-value"},[i("span",{staticClass:"input-value--uppercase"},[e._v(e._s(e.t("createPair.balance")))]),i("formatted-amount-with-fiat-value",{attrs:{"value-can-be-hidden":"","with-left-shift":"","value-class":"input-value--primary",value:e.getFormattedTokenBalance(e.firstToken),"fiat-value":e.getFiatBalance(e.firstToken)}})],1):e._e()]),i("div",{staticClass:"s-flex el-buttons",attrs:{slot:"right"},slot:"right"},[e.isFirstMaxButtonAvailable?i("s-button",{staticClass:"el-button--max s-typography-button--small",attrs:{type:"primary",alternative:"",size:"mini","border-radius":"mini"},on:{click:function(t){return e.handleAddLiquidityMaxValue(e.firstToken,e.setFirstTokenValue)}}},[e._v(" "+e._s(e.t("buttons.max"))+" ")]):e._e(),i("token-select-button",{staticClass:"el-button--select-token",attrs:{token:e.firstToken}})],1),i("div",{staticClass:"input-line input-line--footer",attrs:{slot:"bottom"},slot:"bottom"},[e.firstToken&&e.firstTokenPrice?i("formatted-amount",{attrs:{"is-fiat-value":"",value:e.fiatFirstAmount}}):e._e(),e.firstToken?i("token-address",{staticClass:"input-value",attrs:{name:e.firstToken.name,symbol:e.firstToken.symbol,address:e.firstToken.address}}):e._e()],1)]),i("s-icon",{staticClass:"icon-divider",attrs:{name:"plus-16"}}),i("s-float-input",{staticClass:"s-input--token-value",attrs:{size:"medium",value:e.secondTokenValue,decimals:e.secondTokenDecimals,"has-locale-string":"",delimiters:e.delimiters,max:e.getMax(e.secondTokenAddress),disabled:!e.areTokensSelected},on:{input:function(t){return e.handleTokenChange(t,e.setSecondTokenValue)},focus:function(t){return e.setFocusedField("secondTokenValue")},blur:e.resetFocusedField}},[i("div",{staticClass:"input-line",attrs:{slot:"top"},slot:"top"},[i("div",{staticClass:"input-title"},[i("span",{staticClass:"input-title--uppercase input-title--primary"},[e._v(e._s(e.t("createPair.deposit")))])]),e.isLoggedIn&&e.secondToken?i("div",{staticClass:"input-value"},[i("span",{staticClass:"input-value--uppercase"},[e._v(e._s(e.t("createPair.balance")))]),i("formatted-amount-with-fiat-value",{attrs:{"value-can-be-hidden":"","with-left-shift":"","value-class":"input-value--primary",value:e.getFormattedTokenBalance(e.secondToken),"fiat-value":e.getFiatBalance(e.secondToken)}})],1):e._e()]),i("div",{staticClass:"s-flex el-buttons",attrs:{slot:"right"},slot:"right"},[e.isSecondMaxButtonAvailable?i("s-button",{staticClass:"el-button--max s-typography-button--small",attrs:{type:"primary",alternative:"",size:"mini","border-radius":"mini"},on:{click:function(t){return e.handleAddLiquidityMaxValue(e.secondToken,e.setSecondTokenValue)}}},[e._v(" "+e._s(e.t("buttons.max"))+" ")]):e._e(),i("token-select-button",{staticClass:"el-button--select-token",attrs:{icon:"chevron-down-rounded-16",token:e.secondToken},on:{click:e.openSelectSecondTokenDialog}})],1),i("div",{staticClass:"input-line input-line--footer",attrs:{slot:"bottom"},slot:"bottom"},[e.secondToken&&e.secondTokenPrice?i("formatted-amount",{attrs:{"is-fiat-value":"",value:e.fiatSecondAmount}}):e._e(),e.secondToken?i("token-address",{staticClass:"input-value",attrs:{name:e.secondToken.name,symbol:e.secondToken.symbol,address:e.secondToken.address}}):e._e()],1)]),i("slippage-tolerance",{staticClass:"slippage-tolerance-settings"}),i("s-button",{staticClass:"action-button s-typography-button--large",attrs:{type:"primary",disabled:!e.areTokensSelected||e.isEmptyBalance||e.isInsufficientBalance||!e.isAvailable,loading:e.isSelectAssetLoading},on:{click:e.handleAddLiquidity}},[e.areTokensSelected?e.isAvailable?e.isEmptyBalance?[e._v(" "+e._s(e.t("buttons.enterAmount"))+" ")]:e.isInsufficientBalance?[e._v(" "+e._s(e.t("exchange.insufficientBalance",{tokenSymbol:e.insufficientBalanceTokenSymbol}))+" ")]:[e._v(" "+e._s(e.t("createPair.supply"))+" ")]:[e._v(" "+e._s(e.t("addLiquidity.pairIsNotCreated"))+" ")]:[e._v(" "+e._s(e.t("buttons.chooseTokens"))+" ")]],2),e.areTokensSelected&&e.isAvailable&&(!e.emptyAssets||(e.liquidityInfo||{}).balance)?i("add-liquidity-transaction-details",{staticClass:"info-line-container",attrs:{"info-only":!1}}):e._e()],1),i("select-token",{attrs:{visible:e.showSelectSecondTokenDialog,connected:e.isLoggedIn,asset:e.firstToken},on:{"update:visible":function(t){e.showSelectSecondTokenDialog=t},select:function(t){return e.selectSecondTokenAddress(t.address)}}}),i("confirm-token-pair-dialog",{attrs:{visible:e.showConfirmDialog,"parent-loading":e.parentLoading,"share-of-pool":e.shareOfPool,"first-token":e.firstToken,"second-token":e.secondToken,"first-token-value":e.firstTokenValue,"second-token-value":e.secondTokenValue,price:e.price,"price-reversed":e.priceReversed,"slippage-tolerance":e.slippageTolerance},on:{"update:visible":function(t){e.showConfirmDialog=t},confirm:e.handleConfirmAddLiquidity}}),i("network-fee-warning-dialog",{attrs:{visible:e.showWarningFeeDialog,fee:e.removeLiquidityFormattedFee},on:{"update:visible":function(t){e.showWarningFeeDialog=t},confirm:e.confirmNetworkFeeWariningDialog}})],1)},a=[],s=i(55005),o=i(41067),r=i(1379),d=i(7178),l=i(46108),u=i(55427),c=i(34563),p=(i(35666),i(92222),i(69600),i(70655)),f=i(53545),k=i(8638),m=i(36930),v=i(82753),h=i(14877),g=i(2591),y=i(80710),T=i(16546),b=i(74614),F=i(33312),_=F.Q.AddLiquidity,C=(0,h.Z)(_),A=function(e){(0,l.Z)(i,e);var t=(0,u.Z)(i);function i(){var e;(0,o.Z)(this,i);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c.Z)((0,d.Z)(e),"delimiters",m.FPNumber.DELIMITERS_CONFIG),(0,c.Z)((0,d.Z)(e),"focusedField",void 0),(0,c.Z)((0,d.Z)(e),"shareOfPool",void 0),(0,c.Z)((0,d.Z)(e),"liquidityInfo",void 0),(0,c.Z)((0,d.Z)(e),"addLiquidity",void 0),(0,c.Z)((0,d.Z)(e),"setData",void 0),(0,c.Z)((0,d.Z)(e),"setFocusedField",void 0),(0,c.Z)((0,d.Z)(e),"resetFocusedField",void 0),e}return(0,r.Z)(i,[{key:"mounted",value:function(){var e=(0,s.Z)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.withParentLoading((0,s.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.firstAddress||!t.secondAddress){e.next=7;break}return e.next=3,t.setData({firstAddress:t.firstAddress,secondAddress:t.secondAddress});case 3:if(t.liquidityInfo){e.next=5;break}return e.abrupt("return",t.handleBack());case 5:e.next=9;break;case 7:return e.next=9,t.setFirstTokenAddress(v.XOR.address);case 9:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"firstAddress",get:function(){return y.ZP.currentRoute.params.firstAddress}},{key:"secondAddress",get:function(){return y.ZP.currentRoute.params.secondAddress}},{key:"chooseTokenClasses",get:function(){var e="el-button",t=[e,e+"--choose-token"];return this.secondAddress&&t.push("".concat(e,"--disabled")),t.join(" ")}},{key:"removeLiquidityFormattedFee",get:function(){return this.formatCodecNumber(this.networkFees.RemoveLiquidity)}},{key:"isXorSufficientForNextOperation",get:function(){return this.isXorSufficientForNextTx({type:m.Operation.AddLiquidity,amount:this.getFPNumber(this.firstTokenValue)})}},{key:"handleAddLiquidityMaxValue",value:function(e,t){this.focusedField&&this.resetFocusedField(),this.handleMaxValue(e,t)}},{key:"handleAddLiquidity",value:function(){var e=(0,s.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isXorSufficientForNextOperation){e.next=7;break}return this.openWarningFeeDialog(),e.next=4,this.waitOnNextTxFailureConfirmation();case 4:if(this.isWarningFeeDialogConfirmed){e.next=6;break}return e.abrupt("return");case 6:this.isWarningFeeDialogConfirmed=!1;case 7:this.openConfirmDialog();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleConfirmAddLiquidity",value:function(){return this.handleConfirm(this.addLiquidity)}}]),i}((0,f.Wr)(k.tA.NetworkFeeWarningMixin,C,g.Z));(0,p.__decorate)([b.SB.addLiquidity.focusedField],A.prototype,"focusedField",void 0),(0,p.__decorate)([b.Yn.addLiquidity.shareOfPool],A.prototype,"shareOfPool",void 0),(0,p.__decorate)([b.Yn.addLiquidity.liquidityInfo],A.prototype,"liquidityInfo",void 0),(0,p.__decorate)([b.aD.addLiquidity.addLiquidity],A.prototype,"addLiquidity",void 0),(0,p.__decorate)([b.aD.addLiquidity.setDataFromLiquidity],A.prototype,"setData",void 0),(0,p.__decorate)([b.QF.addLiquidity.setFocusedField],A.prototype,"setFocusedField",void 0),(0,p.__decorate)([b.QF.addLiquidity.resetFocusedField],A.prototype,"resetFocusedField",void 0),A=(0,p.__decorate)([(0,f.wA)({components:{GenericPageHeader:(0,y.kF)(T.z8.GenericPageHeader),SelectToken:(0,y.kF)(T.z8.SelectToken),SlippageTolerance:(0,y.kF)(T.z8.SlippageTolerance),ConfirmTokenPairDialog:(0,y.kF)(T.z8.ConfirmTokenPairDialog),NetworkFeeWarningDialog:(0,y.kF)(T.z8.NetworkFeeWarningDialog),TokenSelectButton:(0,y.kF)(T.z8.TokenSelectButton),AddLiquidityTransactionDetails:(0,y.kF)(T.z8.AddLiquidityTransactionDetails),FormattedAmount:k.wx.FormattedAmount,FormattedAmountWithFiatValue:k.wx.FormattedAmountWithFiatValue,InfoLine:k.wx.InfoLine,TokenAddress:k.wx.TokenAddress}})],A);var x=A,w=x,L=i(1001),q=(0,L.Z)(w,n,a,!1,null,"4bcf5408",null),S=q.exports}}]);