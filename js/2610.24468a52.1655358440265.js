"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[2610],{2610:function(t,e,s){s.r(e),s.d(e,{default:function(){return x}});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"history-container"},[s("s-card",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading,expression:"parentLoading"}],staticClass:"history-content",attrs:{"border-radius":"medium",shadow:"always",primary:""}},[s("generic-page-header",{attrs:{"has-button-back":"",title:t.t("bridgeHistory.title")},on:{back:t.handleBack}}),s("s-form",{staticClass:"history-form",attrs:{"show-message":!1}},[t.history.length?s("search-input",{staticClass:"history--search",attrs:{placeholder:t.t("bridgeHistory.filterPlaceholder"),autofocus:""},on:{clear:t.handleResetSearch},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}):t._e(),s("div",{staticClass:"history-items"},[t.hasHistory?t._l(t.filteredHistoryItems,(function(e){return s("div",{key:"history-"+e.id,staticClass:"history-item",on:{click:function(s){return t.showHistory(e.id)}}},[s("div",{staticClass:"history-item-info"},[s("div",{staticClass:"history-item-title p4"},[s("formatted-amount",{attrs:{"value-can-be-hidden":"",value:t.formatAmount(e),"asset-symbol":e.symbol}}),s("i",{class:"s-icon--network s-icon-"+(t.isOutgoingType(e.type)?"sora":t.getEvmIcon(e.externalNetwork))}),s("span",{staticClass:"history-item-title-separator"},[t._v(" "+t._s(t.t("bridgeTransaction.for"))+" ")]),s("formatted-amount",{attrs:{"value-can-be-hidden":"",value:t.formatAmount(e),"asset-symbol":e.symbol}}),s("i",{class:"s-icon--network s-icon-"+(t.isOutgoingType(e.type)?t.getEvmIcon(e.externalNetwork):"sora")})],1),s("div",{staticClass:"history-item-date"},[t._v(t._s(t.formatHistoryDate(e)))])]),s("div",{class:t.historyStatusClasses(e)},[s("div",{staticClass:"history-item-status-text"},[t._v(t._s(t.historyStatusText(e)))]),s("s-icon",{staticClass:"history-item-status-icon",attrs:{name:t.historyStatusIconName(e),size:"16"}})],1)])})):s("p",{staticClass:"history-empty p4"},[t._v(t._s(t.t("bridgeHistory.empty")))])],2),t.hasHistory?s("s-pagination",{attrs:{layout:"total, prev, next","current-page":t.currentPage,"page-size":t.pageAmount,total:t.filteredHistory.length},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"prev-click":t.handlePrevClick,"next-click":t.handleNextClick}}):t._e()],1)],1)],1)},i=[],a=s(34563),o=s(70655),n=s(53545),c=s(8638),u=s(36930),d=s(32806),l=s(63280),h=s(12759),y=s(41468),m=s(80710),g=s(16546),p=s(74614),f=s(28335);let v=class extends((0,n.Wr)(d.Z,l.Z,h.Z,y.Z,c.tA.PaginationSearchMixin,c.tA.NumberFormatterMixin)){constructor(...t){super(...t),(0,a.Z)(this,"registeredAssets",void 0),(0,a.Z)(this,"updateHistory",void 0),(0,a.Z)(this,"pageAmount",8)}get filteredHistory(){if(!this.history?.length)return[];const t=[...this.history].sort(((t,e)=>t.startTime&&e.startTime?e.startTime-t.startTime:0));return this.getFilteredHistory(t)}get hasHistory(){return this.filteredHistory&&this.filteredHistory.length>0}get filteredHistoryItems(){return this.getPageItems(this.filteredHistory)}async created(){await this.withParentLoading((async()=>{this.setHistory(),await this.updateHistory()}))}getFilteredHistory(t){if(this.query){const e=this.query.toLowerCase().trim();return t.filter((t=>`${t.assetAddress}`.toLowerCase().includes(e)||`${this.registeredAssets.find((e=>e.address===t.assetAddress))?.externalAddress}`.toLowerCase().includes(e)||`${t.symbol}`.toLowerCase().includes(e)))}return t}formatAmount(t){if(!t.amount)return"";const e=this.registeredAssets?.find((e=>e.address===t.address))?.decimals;return this.formatStringValue(t.amount,e)}formatHistoryDate(t){return this.formatDate(t?.startTime??Date.now())}isWaitingForAction(t){return t.status===u.BridgeTxStatus.Failed&&(0,f.rz)(t)}historyStatusClasses(t){const e="history-item-status",s=[e];return this.isWaitingForAction(t)?s.push(`${e}--warning`):t.status===u.BridgeTxStatus.Failed?s.push(`${e}--error`):t.status===u.BridgeTxStatus.Done?s.push(`${e}--success`):s.push(`${e}--pending`),s.join(" ")}historyStatusIconName(t){return this.isWaitingForAction(t)?"notifications-alert-triangle-24":t.status===u.BridgeTxStatus.Failed?"basic-clear-X-24":t.status===u.BridgeTxStatus.Done?"basic-check-marks-24":"time-time-24"}historyStatusText(t){return this.isWaitingForAction(t)?this.t("bridgeHistory.statusAction"):""}handleBack(){m.ZP.push({name:g.sn.Bridge})}handleResetSearch(){this.resetPage(),this.resetSearch()}};(0,o.__decorate)([p.SB.assets.registeredAssets],v.prototype,"registeredAssets",void 0),(0,o.__decorate)([p.aD.bridge.updateHistory],v.prototype,"updateHistory",void 0),v=(0,o.__decorate)([(0,n.wA)({components:{GenericPageHeader:(0,m.kF)(g.z8.GenericPageHeader),SearchInput:c.wx.SearchInput,FormattedAmount:c.wx.FormattedAmount}})],v);var w=v,H=w,b=s(1001),k=(0,b.Z)(H,r,i,!1,null,"d4075d08",null),x=k.exports}}]);