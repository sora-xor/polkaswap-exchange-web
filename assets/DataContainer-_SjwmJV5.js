var p=Object.defineProperty;var d=(s,t,a)=>t in s?p(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var i=(s,t,a)=>d(s,typeof t!="symbol"?t+"":t,a);import{m as h,a4 as c,hI as u,k as n,W as O,C as m,hJ as f,hK as C,n as v}from"./index-BHqySXo4.js";import{S as y}from"./SubscriptionsMixin-D6BOGEEX.js";import{S as k}from"./StakingMixin-CnPsAVWR.js";var S=Object.defineProperty,_=Object.getOwnPropertyDescriptor,r=(s,t,a,l)=>{for(var o=l>1?void 0:l?_(t,a):t,g=s.length-1,b;g>=0;g--)(b=s[g])&&(o=(l?b(t,a,o):b(o))||o);return l&&o&&S(t,a,o),o};let e=class extends h(k,y){constructor(){super(...arguments);i(this,"getStakingInfo");i(this,"getValidatorsInfo");i(this,"getMinNominatorBond");i(this,"getUnbondPeriod");i(this,"getMaxNominations");i(this,"getHistoryDepth");i(this,"subscribeOnActiveEra");i(this,"subscribeOnCurrentEra");i(this,"subscribeOnCurrentEraTotalStake");i(this,"subscribeOnController");i(this,"subscribeOnPayee");i(this,"subscribeOnNominations");i(this,"subscribeOnAccountLedger")}get showFilterDialog(){return this.showValidatorsFilterDialog}set showFilterDialog(t){this.setShowValidatorsFilterDialog(t)}handleChangeFilter(t){this.setShowValidatorsFilterDialog(!1),this.setValidatorsFilter(t)}async created(){this.newStakeValidatorsMode||c.currentRoute.name!==u.Overview&&c.push({name:u.Overview}),await this.withParentLoading(async()=>{await Promise.all([this.getStakingInfo(),this.getValidatorsInfo(),this.getMinNominatorBond(),this.getUnbondPeriod(),this.getMaxNominations(),this.getHistoryDepth(),this.getPendingRewards(),this.subscribeOnActiveEra(),this.subscribeOnCurrentEra(),this.subscribeOnController(),this.subscribeOnPayee(),this.subscribeOnNominations(),this.subscribeOnAccountLedger()]),await this.subscribeOnCurrentEraTotalStake()})}handleCurrentEraChange(){this.subscribeOnCurrentEraTotalStake()}};r([n.staking.getStakingInfo],e.prototype,"getStakingInfo",2);r([n.staking.getValidatorsInfo],e.prototype,"getValidatorsInfo",2);r([n.staking.getMinNominatorBond],e.prototype,"getMinNominatorBond",2);r([n.staking.getUnbondPeriod],e.prototype,"getUnbondPeriod",2);r([n.staking.getMaxNominations],e.prototype,"getMaxNominations",2);r([n.staking.getHistoryDepth],e.prototype,"getHistoryDepth",2);r([n.staking.subscribeOnActiveEra],e.prototype,"subscribeOnActiveEra",2);r([n.staking.subscribeOnCurrentEra],e.prototype,"subscribeOnCurrentEra",2);r([n.staking.subscribeOnCurrentEraTotalStake],e.prototype,"subscribeOnCurrentEraTotalStake",2);r([n.staking.subscribeOnController],e.prototype,"subscribeOnController",2);r([n.staking.subscribeOnPayee],e.prototype,"subscribeOnPayee",2);r([n.staking.subscribeOnNominations],e.prototype,"subscribeOnNominations",2);r([n.staking.subscribeOnAccountLedger],e.prototype,"subscribeOnAccountLedger",2);r([O("currentEra")],e.prototype,"handleCurrentEraChange",1);e=r([m({components:{ValidatorsFilterDialog:f(C.ValidatorsFilterDialog)}})],e);var w=function(){var t=this,a=t._self._c;return t._self._setupProxy,a("div",[a("router-view",t._g(t._b({staticClass:"sora-staking-container"},"router-view",{parentLoading:t.subscriptionsDataLoading,...t.$attrs},!1),t.$listeners)),a("validators-filter-dialog",{attrs:{visible:t.showFilterDialog,"parent-loading":t.parentLoading||t.loading,filter:t.validatorsFilter},on:{"update:visible":function(l){t.showFilterDialog=l},save:t.handleChangeFilter}})],1)},D=[],P=v(e,w,D,!1,null,null);const M=P.exports;export{M as default};
