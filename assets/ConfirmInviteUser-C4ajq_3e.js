var h=Object.defineProperty;var m=(s,e,r)=>e in s?h(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var n=(s,e,r)=>m(s,typeof e!="symbol"?e+"":e,r);import{m as _,$ as c,b as g,g as p,i as v,W as u,C as R,_ as b,n as d}from"./index-BHqySXo4.js";var y=Object.defineProperty,C=Object.getOwnPropertyDescriptor,o=(s,e,r,a)=>{for(var i=a>1?void 0:a?C(e,r):e,f=s.length-1,l;f>=0;f--)(l=s[f])&&(i=(a?l(e,r,i):l(i))||i);return a&&i&&y(e,r,i),i};let t=class extends _(c.TransactionMixin,c.DialogMixin){constructor(){super(...arguments);n(this,"referrer");n(this,"storageReferrer");n(this,"resetStorageReferrer");n(this,"approveReferrer")}get hasReferrer(){return!!this.referrer}get iconName(){return this.hasReferrer?"notifications-alert-triangle-24":"finance-PSWAP-24"}get iconSize(){return this.hasReferrer?64:40}async handleConfirmInviteUser(){if(!this.hasReferrer){this.approveReferrer(!0);try{await this.withNotifications(async()=>await g.api.referralSystem.setInvitedUser(this.storageReferrer)),this.$emit("confirm",!0)}catch{this.approveReferrer(!1),this.$emit("confirm")}}this.isVisible=!1}isDialogVisible(e){!e&&this.storageReferrer&&this.resetStorageReferrer()}};o([p.referrals.referrer],t.prototype,"referrer",2);o([p.referrals.storageReferrer],t.prototype,"storageReferrer",2);o([v.referrals.resetStorageReferrer],t.prototype,"resetStorageReferrer",2);o([v.referrals.approveReferrer],t.prototype,"approveReferrer",2);o([u("isVisible")],t.prototype,"isDialogVisible",1);t=o([R({components:{DialogBase:b.DialogBase}})],t);var P=function(){var e=this,r=e._self._c;return e._self._setupProxy,r("dialog-base",{attrs:{visible:e.isVisible,"show-close-button":!1,"custom-class":"dialog--confirm-invite-user"},on:{"update:visible":function(a){e.isVisible=a}},scopedSlots:e._u([{key:"footer",fn:function(){return[r("s-button",{staticClass:"s-typography-button--large",attrs:{type:e.hasReferrer?"secondary":"primary",disabled:e.loading},on:{click:e.handleConfirmInviteUser}},[e._v(" "+e._s(e.t(`referralProgram.confirm.${e.hasReferrer?"ok":"signInvitation"}`))+" ")]),e.hasReferrer?e._e():r("div",{staticClass:"invite-user-free-charge"},[r("s-icon",{staticClass:"invite-user-info",attrs:{name:"basic-check-mark-24",size:"10px"}}),r("span",[e._v(e._s(e.t("referralProgram.confirm.freeOfCharge")))])],1)]},proxy:!0}])},[r("div",{staticClass:"invite-user-icon",class:{"invite-user-icon--error":e.hasReferrer}},[r("s-icon",{attrs:{name:e.iconName,size:e.iconSize}})],1),r("p",{staticClass:"invite-user-title"},[e._v(" "+e._s(e.t(`referralProgram.confirm.${e.hasReferrer?"hasReferrer":"invite"}Title`))+" ")]),r("p",{staticClass:"invite-user-description"},[e._v(" "+e._s(e.t(`referralProgram.confirm.${e.hasReferrer?"hasReferrer":"invite"}Description`))+" ")])])},x=[],S=d(t,P,x,!1,null,"a8822feb");const $=S.exports;export{$ as default};
