var _=Object.defineProperty;var f=(e,t,o)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var n=(e,t,o)=>f(e,typeof t!="symbol"?t+"":t,o);import{m as u,hg as m,o as d,g as h,h as g,i as v,C,_ as b,l as p,j as l,n as T}from"./index-BHqySXo4.js";import{W as D}from"./WalletConnectMixin-CatA0t7p.js";import P from"./CedeStore-BqQUMIG6.js";import B from"./Moonpay-D571D53h.js";var x=Object.defineProperty,E=Object.getOwnPropertyDescriptor,r=(e,t,o,i)=>{for(var s=i>1?void 0:i?E(t,o):t,y=e.length-1,c;y>=0;y--)(c=e[y])&&(s=(i?c(t,o,s):c(s))||s);return i&&s&&x(t,o,s),s};let a=class extends u(D){constructor(){super(...arguments);n(this,"bridgeTransactionData");n(this,"startBridgeButtonVisibility");n(this,"libraryTheme");n(this,"moonpayEnabled");n(this,"setMoonpayVisibility");n(this,"showCedeDialog",!1);n(this,"showErrorInfoBanner",!1)}get hasPendingTx(){return this.startBridgeButtonVisibility&&!!this.bridgeTransactionData}get computedCounterClass(){const o=["pay-options__purchase-count"];return this.hasPendingTx&&o.push("pay-options__purchase-count--pending"),o.join(" ")}get moonpayTextBtn(){return this.isLoggedIn?this.t("fiatPayment.moonpayTitle"):this.t("connectWalletText")}get cedeTextBtn(){return this.isLoggedIn?this.t("fiatPayment.cedeStoreBtn",{value1:this.TranslationConsts.CEX,value2:this.TranslationConsts.CedeStore}):this.t("connectWalletText")}openDepositTxHistory(){m(d.DepositTxHistory)}openCedeWidget(){if(!this.isLoggedIn)return this.connectSoraWallet();m(d.CedeStore)}showErrorMessage(){this.showErrorInfoBanner=!0}openMoonpayDialog(){if(!this.moonpayEnabled)return this.showErrorMessage();if(!this.isLoggedIn)return this.connectSoraWallet();if(!this.evmAddress)return this.connectEvmWallet();this.setMoonpayVisibility(!0)}beforeDestroy(){this.disconnectExternalNetwork()}};r([h.moonpay.bridgeTransactionData],a.prototype,"bridgeTransactionData",2);r([h.moonpay.startBridgeButtonVisibility],a.prototype,"startBridgeButtonVisibility",2);r([g.libraryTheme],a.prototype,"libraryTheme",2);r([g.settings.moonpayEnabled],a.prototype,"moonpayEnabled",2);r([v.moonpay.setDialogVisibility],a.prototype,"setMoonpayVisibility",2);a=r([C({components:{DialogBase:b.DialogBase,Moonpay:p(l.Moonpay),MoonpayNotification:p(l.MoonpayNotification),MoonpayConfirmation:p(l.MoonpayConfirmation),PaymentError:p(l.PaymentErrorDialog),SelectProviderDialog:p(l.SelectProviderDialog),MoonpayLogo:B,CedeStoreLogo:P}})],a);var M=function(){var t=this,o=t._self._c;return t._self._setupProxy,o("div",{staticClass:"container"},[o("div",{staticClass:"pay-options"},[o("div",{staticClass:"pay-options__option pay-options-moonpay"},[o("moonpay-logo",{attrs:{theme:t.libraryTheme}}),o("h4",[t._v(t._s(t.t("fiatPayment.moonpayTitle")))]),o("span",[t._v(t._s(t.t("fiatPayment.moonpayDesc")))]),o("s-button",{attrs:{type:"primary"},on:{click:t.openMoonpayDialog}},[t._v(t._s(t.moonpayTextBtn))])],1),o("div",{staticClass:"pay-options__option pay-options-cede"},[o("cede-store-logo",{attrs:{theme:t.libraryTheme}}),o("h4",[t._v(t._s(t.t("fiatPayment.cedeStoreTitle",{value:t.TranslationConsts.CEX})))]),o("span",[t._v(t._s(t.t("fiatPayment.cedeStoreDesc",{value1:t.TranslationConsts.CEX,value2:t.TranslationConsts.Polkaswap,value3:t.TranslationConsts.CedeStore})))]),o("s-button",{attrs:{type:"primary"},on:{click:t.openCedeWidget}},[t._v(t._s(t.cedeTextBtn))])],1),t.isLoggedIn?o("div",{staticClass:"pay-options__history-btn",on:{click:t.openDepositTxHistory}},[o("span",[t._v(t._s(t.t("fiatPayment.historyBtn")))]),o("div",[o("span",{class:t.computedCounterClass},[t._v(t._s(+t.hasPendingTx))]),o("s-icon",{attrs:{name:"arrows-chevron-right-rounded-24",size:"18"}})],1)]):t._e()]),t.moonpayEnabled?[o("moonpay"),o("moonpay-notification"),o("moonpay-confirmation"),o("select-provider-dialog")]:t._e(),o("payment-error",{attrs:{visible:t.showErrorInfoBanner},on:{"update:visible":function(i){t.showErrorInfoBanner=i}}})],2)},w=[],S=T(a,M,w,!1,null,"ea045bc1");const N=S.exports;export{N as default};
