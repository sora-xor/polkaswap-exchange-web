var V=Object.defineProperty;var T=(c,e,t)=>e in c?V(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;var i=(c,e,t)=>T(c,typeof e!="symbol"?e+"":e,t);import{m as F,a5 as L,$ as A,ag as _,a3 as g,b as r,af as f,ae as d,r as x,ah as w,Y as P,ai as C,aj as I,ak as q,al as y,am as N,an as E,ao as R,o as M,ap as D,g as l,h as S,i as p,k as v,W as k,C as Q,_ as O,l as m,j as b,n as Z}from"./index-BHqySXo4.js";import{C as z}from"./ConfirmDialogMixin-BYoYOPfg.js";import{S as $}from"./SwapAmountsMixin-CSyMayo5.js";import{O as W}from"./tabs-Nr7W-OES.js";var X=Object.defineProperty,U=Object.getOwnPropertyDescriptor,n=(c,e,t,s)=>{for(var o=s>1?void 0:s?U(e,t):e,u=c.length-1,h;u>=0;u--)(h=c[u])&&(o=(s?h(e,t,o):h(o))||o);return s&&o&&X(e,t,o),o};let a=class extends F(z,L,$,A.TransactionMixin,A.FormattedAmountMixin){constructor(){super(...arguments);i(this,"prevRoute");i(this,"networkFees");i(this,"_limitOrderType");i(this,"baseValue");i(this,"quoteValue");i(this,"side");i(this,"asks");i(this,"bids");i(this,"baseAssetAddress");i(this,"sliderValue");i(this,"userLimitOrders");i(this,"dexId");i(this,"slippageTolerance");i(this,"xor");i(this,"baseAsset");i(this,"quoteAsset");i(this,"currentOrderBook");i(this,"orderBookStats");i(this,"setBaseValue");i(this,"setQuoteValue");i(this,"setSide");i(this,"setAmountSliderValue");i(this,"setLiquiditySource");i(this,"selectDexId");i(this,"setLimitOrderType");i(this,"resetTokenToAddress");i(this,"updateBalanceSubscription");i(this,"updateOrderBooksStats");i(this,"prevSwapFromAddress","");i(this,"prevSwapToAddress","");i(this,"visibleBookList",!1);i(this,"limitForSinglePriceReached",!1);i(this,"quoteSubscription",null);i(this,"timestamp",_);i(this,"marketQuotePrice","");i(this,"reason","");i(this,"reading","");i(this,"OrderBookTabs",W)}handleSideChange(e,t){if(this.updateBalanceSubscription(),this.handleTabClick(),e.startsWith("0x")&&e!==t)this.setAmountSliderValue(0);else if(["Buy","Sell"].includes(e)&&e!==t){if(!this.currentOrderBook)return;const s=this.currentOrderBook.maxLotSize,o=g(this.baseAsset,this.networkFee);s.gt(new r.FPNumber(o))&&(this.handleInputFieldBase(""),this.setAmountSliderValue(0))}}setTokens(){!this.baseAsset||!this.quoteAsset||(this.isBuySide?(this.setTokenFromAddress(this.quoteAsset.address),this.setTokenToAddress(this.baseAsset.address)):(this.setTokenFromAddress(this.baseAsset.address),this.setTokenToAddress(this.quoteAsset.address)))}updateStats(){this.resetValues(),this.visibleBookList&&this.updateOrderBooksStats()}checkValidation(){this.checkInputValidation()}get limitOrderType(){return this._limitOrderType}set limitOrderType(e){this.setLimitOrderType(e)}get networkFee(){return this.networkFees[r.Operation.OrderBookPlaceLimitOrder]}get isSliderAvailable(){const e=g(this.baseAsset,this.networkFee);return new r.FPNumber(e).gt(r.FPNumber.ZERO)}get isMarketType(){return this.limitOrderType===f.market}get isBalanceLessThanStepSize(){if(!this.currentOrderBook)return!1;const{stepLotSize:e}=this.currentOrderBook,t=g(this.baseAsset,this.networkFee);return!this.amountPrecision&&this.baseValue==="0"&&!this.isBuySide?new r.FPNumber(t).lt(e):!1}get hasExplainableError(){return!!this.reason&&!!this.reading}get formattedAmountAtPrice(){return this.baseValue&&this.quoteValue?this.t("orderBook.tradingPair.total",{amount:this.formatStringValue(this.baseValue),symbol:this.baseSymbol,amount2:this.formatStringValue(this.quoteValue||this.marketQuotePrice),symbol2:this.quoteSymbol}):""}get formattedTotal(){return this.getFPNumber(this.baseValue).mul(this.getFPNumber(this.quoteValue)).toLocaleString()}get shouldErrorTooltipBeShown(){return this.isLoggedIn&&this.hasExplainableError}get isLimitOrder(){return this.limitOrderType===f.limit}get isPlaceAndCancelMode(){return this.orderBookStatus===d.OrderBookStatus.PlaceAndCancel}setError({reason:e,reading:t}){this.reason=e,this.reading=t}get buttonDisabled(){if(this.bookStopped||this.limitForSinglePriceReached||this.userReachedSpotLimit||this.userReachedOwnLimit)return!0;if(!this.isLoggedIn)return!1;if(this.limitOrderType===f.limit){if(!this.baseValue||!this.quoteValue||!this.isPriceBeyondPrecision||this.orderBookStatus===d.OrderBookStatus.PlaceAndCancel&&this.priceExceedsSpread)return!0}else if(!this.baseValue||!this.marketQuotePrice)return!0;return!!(this.isOutOfAmountBounds||this.isInsufficientXorForFee||this.isInsufficientBalance)}async checkInputValidation(){if(this.setError({reason:"",reading:""}),this.orderBookStatus!==d.OrderBookStatus.Stop){if(this.isLimitOrder){if(await this.singlePriceReachedLimit()&&this.quoteValue)return this.setError({reason:this.t("orderBook.error.singlePriceLimit.reason"),reading:this.t("orderBook.error.singlePriceLimit.reading")});if(this.userReachedOwnLimit)return this.setError({reason:this.t("orderBook.error.accountLimit.reason"),reading:this.t("orderBook.error.accountLimit.reading")});if(this.userReachedSpotLimit)return this.setError({reason:this.t("orderBook.error.spotLimit.reason"),reading:this.t("orderBook.error.spotLimit.reading")})}if(!this.isPriceBeyondPrecision&&this.baseValue&&this.isLimitOrder){const{tickSize:e}=this.currentOrderBook;return this.setError({reason:this.t("orderBook.error.multipleOf.reason"),reading:this.t("orderBook.error.multipleOf.reading",{value:e==null?void 0:e.toString()})})}if(this.isMarketType&&(await x(300),!this.marketQuotePrice&&!this.isZeroAmount))return this.setError({reason:this.t("orderBook.error.marketNotAvailable.reason"),reading:this.t("orderBook.error.marketNotAvailable.reading")});if(this.orderBookStatus===d.OrderBookStatus.PlaceAndCancel&&this.priceExceedsSpread)return this.setError({reason:this.t("orderBook.error.exceedsSpread.reason"),reading:this.t("orderBook.error.exceedsSpread.reading")});if(!this.isZeroAmount&&this.isOutOfAmountBounds&&this.quoteValue||this.isBalanceLessThanStepSize){const{maxLotSize:e,minLotSize:t}=this.currentOrderBook,{symbol:s}=this.baseAsset;return this.setError({reason:this.t("orderBook.error.outOfBounds.reason"),reading:this.t("orderBook.error.outOfBounds.reading",{max:`${e==null?void 0:e.toLocaleString()} ${s}`,min:`${t==null?void 0:t.toLocaleString()} ${s}`})})}}}get priceExceedsSpread(){if(this.isBuySide){if(!this.asks[this.asks.length-1])return!1;const e=this.asks[this.asks.length-1][0],t=new r.FPNumber(this.quoteValue);return r.FPNumber.gte(t,e)}else{if(!this.bids[0])return!1;const e=this.bids[0][0],t=new r.FPNumber(this.quoteValue);return r.FPNumber.lte(t,e)}}get orderBookPrice(){var s;const e=((s=this.orderBookStats)==null?void 0:s.price)??r.FPNumber.ZERO,t=w(this.currentOrderBook);return e.dp(t).toLocaleString()}get orderBookPriceChange(){var e;return((e=this.orderBookStats)==null?void 0:e.priceChange)??r.FPNumber.ZERO}get orderBookVolume(){var t;return(((t=this.orderBookStats)==null?void 0:t.volume)??r.FPNumber.ZERO).toLocaleString()}get marketOptionDisabled(){return this.orderBookStatus===d.OrderBookStatus.PlaceAndCancel}get isZeroAmount(){return P(this.baseValue)}get isZeroPrice(){return P(this.quoteValue)}get hasZeroAmount(){return this.isZeroAmount||this.isZeroPrice}get isPriceTooHigh(){if(!this.asks.length)return!1;if(!this.isBuySide){if(!this.asks[this.asks.length-1])return!1;const t=this.asks[this.asks.length-1][0].mul(new r.FPNumber(1.5)),s=new r.FPNumber(this.quoteValue);if(r.FPNumber.gt(s,t))return!0}return!1}get isPriceTooLow(){if(!this.bids.length)return!1;if(this.isBuySide){if(!this.bids[0])return!1;const t=this.bids[0][0].div(r.FPNumber.TWO),s=new r.FPNumber(this.quoteValue);if(r.FPNumber.lt(s,t))return!0}return!1}get isPriceBeyondPrecision(){if(!this.currentOrderBook)return!1;const e=this.currentOrderBook.tickSize;return new r.FPNumber(this.quoteValue).isZeroMod(e)}get bookPrecision(){var e,t,s,o,u;return((u=(o=(s=(t=(e=this.currentOrderBook)==null?void 0:e.tickSize)==null?void 0:t.toLocaleString())==null?void 0:s.split(r.FPNumber.DELIMITERS_CONFIG.decimal))==null?void 0:o[1])==null?void 0:u.length)??0}get amountPrecision(){var e,t,s,o,u;return((u=(o=(s=(t=(e=this.currentOrderBook)==null?void 0:e.stepLotSize)==null?void 0:t.toLocaleString())==null?void 0:s.split(r.FPNumber.DELIMITERS_CONFIG.decimal))==null?void 0:o[1])==null?void 0:u.length)??0}get isOutOfAmountBounds(){if(!this.currentOrderBook)return!1;const{maxLotSize:e,minLotSize:t,stepLotSize:s}=this.currentOrderBook,o=new r.FPNumber(this.baseValue);return!(r.FPNumber.lte(o,e)&&r.FPNumber.gte(o,t)&&o.isZeroMod(s))}get computedBtnClass(){return this.isLoggedIn&&this.isBuySide?"buy-btn":""}get isPriceInputDisabled(){return this.isMarketType}get icon(){return this.visibleBookList?"arrows-circle-chevron-top-24":"arrows-circle-chevron-bottom-24"}get baseSymbol(){return this.baseAsset?this.baseAsset.symbol:""}get quoteSymbol(){return this.quoteAsset?this.quoteAsset.symbol:""}getTokenBalance(e){return C(e)}get areTokensSelected(){return!!(this.baseAsset&&this.quoteAsset)}toggleBookList(){this.visibleBookList=!this.visibleBookList}getPercent(e){return e?new r.FPNumber(e).div(this.maxPossibleAmount).mul(r.FPNumber.HUNDRED).toNumber():0}handleSlideInputChange(e){this.setAmountSliderValue(Number(e));const t=new r.FPNumber(e).div(r.FPNumber.HUNDRED).mul(this.maxPossibleAmount).dp(this.amountPrecision);t&&this.handleInputFieldBase(t.toString())}handleInputFieldQuote(e){const t=this.formatInputValue(e,this.bookPrecision);this.setQuoteValue(t),this.checkInputValidation()}handleInputFieldBase(e){const t=this.formatInputValue(e,this.amountPrecision);this.setBaseValue(t),this.setAmountSliderValue(this.getPercent(t)),this.checkInputValidation(),t||this.resetQuoteSubscription(),this.isMarketType&&(t?this.subscribeOnBookQuote():this.setQuoteValue(""))}get preparedForSwap(){return this.isLoggedIn&&this.areTokensSelected}get isInsufficientXorForFee(){return I(this.xor,this.networkFee)}get isInsufficientBalance(){if(!this.tokenFrom)return!1;let e;if(this.isBuySide){const t=new r.FPNumber(this.quoteValue),s=new r.FPNumber(this.baseValue);e=t.mul(s).toString()}else e=this.baseValue;return this.preparedForSwap&&q(this.tokenFrom,e,this.networkFee)}async handleOrderPlacement(){if(!this.isLoggedIn){this.connectSoraWallet();return}this.isMarketType&&this.subscribeOnBookQuote(),this.confirmOrExecute(this.placeOrder)}async placeOrder(){await this.withNotifications(async()=>{if(await this.singlePriceReachedLimit()){this.$alert(this.t("orderBook.error.singlePriceLimit.reading"),{title:this.t("errorText")});return}await(this.isMarketType?this.placeMarketOrder:this.placeLimitOrder)(),this.resetValues()})}placeMarketOrder(){return r.api.swap.execute(this.tokenFrom,this.tokenTo,this.fromValue,this.toValue,this.slippageTolerance,this.isBuySide,y.OrderBook,this.dexId)}placeLimitOrder(){return r.api.orderBook.placeLimitOrder(this.baseAsset,this.quoteAsset,this.quoteValue,this.baseValue,this.side)}get orderBookStatus(){var e;return((e=this.currentOrderBook)==null?void 0:e.status)??d.OrderBookStatus.Stop}get bookStopped(){return![d.OrderBookStatus.Trade,d.OrderBookStatus.PlaceAndCancel].includes(this.orderBookStatus)}get isBuySide(){return this.side===d.PriceVariant.Buy}get isMaxAmountAvailable(){return this.baseAsset&&this.quoteAsset?this.isLoggedIn&&N(this.baseAsset,this.baseValue,this.networkFee,this.xor,!0):!1}get maxPossibleAmount(){if(!this.currentOrderBook)return r.FPNumber.ZERO;const e=g(this.baseAsset,this.networkFee),t=this.currentOrderBook.maxLotSize,s=r.FPNumber.fromNatural(e,this.amountPrecision);return this.isBuySide?t:r.FPNumber.lte(s,t)?s:t}get userReachedSpotLimit(){return this.isMarketType?!1:!!((this.side===d.PriceVariant.Sell?this.asks:this.bids).length>=E&&this.quoteValue&&(this.isPriceUnique(this.quoteValue)||this.limitForSinglePriceReached))}isPriceUnique(e){return!(this.isBuySide?this.bids:this.asks).map(o=>o[0]).map(o=>o.toString()).includes(e)}get userReachedOwnLimit(){var e;return this.isMarketType?!1:((e=this.userLimitOrders)==null?void 0:e.length)===R}async singlePriceReachedLimit(){if(this.isMarketType||!this.quoteValue)return!1;const e=!await r.api.orderBook.isOrderPlaceable(this.baseAsset.address,this.quoteAsset.address,this.side,this.quoteValue);return this.limitForSinglePriceReached=e,e}formatInputValue(e,t){if(!e)return"";const[s,o]=e.split(".");return e.endsWith(".")&&t===0?e.slice(0,-1):e.endsWith(".")||(o==null?void 0:o.length)<=t?e:new r.FPNumber(e).dp(t).toString()}resetQuoteSubscription(){var e;(e=this.quoteSubscription)==null||e.unsubscribe(),this.quoteSubscription=null}subscribeOnBookQuote(){if(this.resetQuoteSubscription(),!(this.baseValue&&this.areTokensSelected))return;const e=this.tokenFrom.address,t=this.tokenTo.address,s=[y.OrderBook],o=r.api.swap.getSwapQuoteObservable(e,t,s,this.dexId);o&&(this.quoteSubscription=o.subscribe(async({quote:u})=>{const{result:{amount:h}}=u(e,t,this.baseValue,this.isBuySide,s);if(r.FPNumber.fromCodecValue(h).isZero()||this.limitOrderType===f.limit){this.resetQuoteSubscription(),this.setQuoteValue(""),this.setToValue(""),this.marketQuotePrice="";return}this.marketQuotePrice=r.FPNumber.fromCodecValue(h).div(r.FPNumber.fromNatural(this.baseValue)).dp(this.bookPrecision).toString(),this.prepareValuesForSwap(h)}))}prepareValuesForSwap(e){if(!this.areTokensSelected||P(this.baseValue))return;const t=this.isBuySide?this.getStringFromCodec(e):this.baseValue,s=this.isBuySide?this.baseValue:this.getStringFromCodec(e);this.setFromValue(t),this.setToValue(s),this.setQuoteValue(this.marketQuotePrice),this.setLiquiditySource(y.OrderBook),this.selectDexId(this.dexId),this.checkInputValidation()}resetValues(e){this.setBaseValue(""),this.setQuoteValue(""),e||(this.limitOrderType=f.limit)}handleMaxValue(){this.handleInputFieldBase(this.maxPossibleAmount.toString()),this.checkInputValidation()}handleTabClick(){this.setTokens(),this.isMarketType||this.resetQuoteSubscription(),this.isMarketType&&(this.setQuoteValue(""),this.baseValue&&this.subscribeOnBookQuote()),this.checkInputValidation()}mounted(){var e,t,s,o;this.updateBalanceSubscription(),this.prevRoute===M.Swap&&((e=this.tokenFrom)!=null&&e.address)&&((t=this.tokenTo)!=null&&t.address)&&(this.prevSwapFromAddress=(s=this.tokenFrom)==null?void 0:s.address,this.prevSwapToAddress=(o=this.tokenTo)==null?void 0:o.address)}beforeDestroy(){this.resetQuoteSubscription(),this.updateBalanceSubscription(!0),this.prevSwapFromAddress&&this.prevSwapToAddress?(this.setTokenFromAddress(this.prevSwapFromAddress),this.setTokenToAddress(this.prevSwapToAddress)):(this.setTokenFromAddress(this.xor.address),this.resetTokenToAddress()),this.setFromValue(""),this.setToValue(""),this.setQuoteValue(""),this.setBaseValue(""),this.setLiquiditySource(y.Default),this.selectDexId(D.XOR),this.setSide(d.PriceVariant.Buy),this.setAmountSliderValue(0),this.limitOrderType=f.limit}};n([l.router.prev],a.prototype,"prevRoute",2);n([l.wallet.settings.networkFees],a.prototype,"networkFees",2);n([l.orderBook.limitOrderType],a.prototype,"_limitOrderType",2);n([l.orderBook.baseValue],a.prototype,"baseValue",2);n([l.orderBook.quoteValue],a.prototype,"quoteValue",2);n([l.orderBook.side],a.prototype,"side",2);n([l.orderBook.asks],a.prototype,"asks",2);n([l.orderBook.bids],a.prototype,"bids",2);n([l.orderBook.baseAssetAddress],a.prototype,"baseAssetAddress",2);n([l.orderBook.amountSliderValue],a.prototype,"sliderValue",2);n([l.orderBook.userLimitOrders],a.prototype,"userLimitOrders",2);n([l.orderBook.dexId],a.prototype,"dexId",2);n([l.settings.slippageTolerance],a.prototype,"slippageTolerance",2);n([S.assets.xor],a.prototype,"xor",2);n([S.orderBook.baseAsset],a.prototype,"baseAsset",2);n([S.orderBook.quoteAsset],a.prototype,"quoteAsset",2);n([S.orderBook.currentOrderBook],a.prototype,"currentOrderBook",2);n([S.orderBook.orderBookStats],a.prototype,"orderBookStats",2);n([p.orderBook.setBaseValue],a.prototype,"setBaseValue",2);n([p.orderBook.setQuoteValue],a.prototype,"setQuoteValue",2);n([p.orderBook.setSide],a.prototype,"setSide",2);n([p.orderBook.setAmountSliderValue],a.prototype,"setAmountSliderValue",2);n([p.swap.setLiquiditySource],a.prototype,"setLiquiditySource",2);n([p.swap.selectDexId],a.prototype,"selectDexId",2);n([p.orderBook.setLimitOrderType],a.prototype,"setLimitOrderType",2);n([p.swap.resetTokenToAddress],a.prototype,"resetTokenToAddress",2);n([v.orderBook.updateBalanceSubscription],a.prototype,"updateBalanceSubscription",2);n([v.orderBook.updateOrderBooksStats],a.prototype,"updateOrderBooksStats",2);n([k("side"),k("baseAssetAddress")],a.prototype,"handleSideChange",1);n([k("baseAsset"),k("quoteAsset")],a.prototype,"setTokens",1);n([k("visibleBookList")],a.prototype,"updateStats",1);n([k("marketQuotePrice"),k("userLimitOrders")],a.prototype,"checkValidation",1);a=n([Q({components:{FormattedAmount:O.FormattedAmount,InfoLine:O.InfoLine,TokenInput:m(b.TokenInput),PairTokenLogo:m(b.PairTokenLogo),PairListPopover:m(b.PairListPopover),PlaceConfirm:m(b.PlaceOrder),PlaceTransactionDetails:m(b.PlaceTransactionDetails),PriceChange:m(b.PriceChange),Error:m(b.ErrorButton)}})],a);var j=function(){var s,o,u,h;var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"order-book order-books"},[t("el-popover",{attrs:{"popper-class":"order-book-whitelist",trigger:"click","visible-arrow":!1},model:{value:e.visibleBookList,callback:function(B){e.visibleBookList=B},expression:"visibleBookList"}},[t("pair-list-popover",{on:{close:e.toggleBookList}}),t("div",{attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"order-book-choose-pair"},[t("div",[e._v(e._s(e.t("orderBook.tokenPair")))]),t("div",{staticClass:"order-book-choose-btn"},[t("div",{staticClass:"order-book-pair-name"},[t("pair-token-logo",{attrs:{"first-token":e.baseAsset,"second-token":e.quoteAsset}}),e.baseAsset&&e.quoteAsset?t("span",[e._v(e._s(`${e.baseSymbol}-${e.quoteSymbol}`))]):e._e()],1),t("s-icon",{staticClass:"order-book-choose-btn-icon",attrs:{name:e.icon}})],1),t("div",{staticClass:"delimiter"}),t("div",{staticClass:"order-book-pair-data"},[t("div",{staticClass:"order-book-pair-data-item"},[t("span",[e._v(e._s(e.t("priceText")))]),t("span",{staticClass:"order-book-pair-data-item__value order-book-fiat"},[t("formatted-amount",{attrs:{value:e.orderBookPrice}})],1)]),t("div",{staticClass:"order-book-pair-data-item"},[t("span",[e._v(e._s(e.t("orderBook.change")))]),t("span",{staticClass:"order-book-pair-data-item__value"},[t("price-change",{attrs:{value:e.orderBookPriceChange}})],1)]),t("div",{staticClass:"order-book-pair-data-item"},[t("span",[e._v(e._s(e.t("orderBook.dayVolume")))]),t("span",{staticClass:"order-book-pair-data-item__value"},[t("formatted-amount",{attrs:{value:e.orderBookVolume,"is-fiat-value":""}})],1)])])])])],1),t("s-tabs",{staticClass:"order-book__tab",attrs:{type:"rounded"},on:{click:e.handleTabClick},model:{value:e.limitOrderType,callback:function(B){e.limitOrderType=B},expression:"limitOrderType"}},[t("s-tab",{attrs:{label:"limit",name:"limit"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("span",[e._v(e._s(e.t("orderBook.limit")))]),t("s-tooltip",{attrs:{slot:"suffix","border-radius":"mini",content:e.t("orderBook.tooltip.limitOrder"),placement:"top",tabindex:"-1"},slot:"suffix"},[t("s-icon",{attrs:{name:"info-16",size:"14px"}})],1)],1)]),t("s-tab",{attrs:{label:"market",name:"market",disabled:e.marketOptionDisabled}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("span",[e._v(e._s(e.t("orderBook.market")))]),t("s-tooltip",{attrs:{slot:"suffix","border-radius":"mini",content:e.t("orderBook.tooltip.marketOrder"),placement:"top",tabindex:"-1"},slot:"suffix"},[t("s-icon",{attrs:{name:"info-16",size:"14px"}})],1)],1)])],1),t("token-input",{staticClass:"order-book-input",attrs:{balance:e.getTokenBalance(e.quoteAsset),"is-max-available":!1,title:e.t("priceText"),token:e.quoteAsset,value:e.quoteValue,disabled:e.isPriceInputDisabled},on:{input:e.handleInputFieldQuote}}),t("token-input",{staticClass:"order-book-input s-input--with-slider",attrs:{balance:e.getTokenBalance(e.baseAsset),"is-max-available":e.isMaxAmountAvailable,"with-slider":e.isSliderAvailable,title:e.t("orderBook.amount"),token:e.baseAsset,value:e.baseValue,"slider-value":e.sliderValue},on:{slide:e.handleSlideInputChange,input:e.handleInputFieldBase,max:e.handleMaxValue}}),t("div",{staticClass:"order-book-total"},[t("info-line",{staticClass:"total-line",attrs:{label:e.t(`orderBook.${e.side}`),value:e.formattedAmountAtPrice}}),t("info-line",{staticClass:"total-line",attrs:{label:e.t("orderBook.total"),value:e.formattedTotal,"asset-symbol":e.quoteSymbol}})],1),t("el-popover",{attrs:{"popper-class":"book-validation__popover",trigger:"hover","visible-arrow":!1}},[e.shouldErrorTooltipBeShown?t("div",{staticClass:"book-validation"},[t("div",{staticClass:"book-validation__disclaimer"},[t("h4",{staticClass:"book-validation__disclaimer-header"},[e._v(" "+e._s(e.reason)+" ")]),t("p",{staticClass:"book-validation__disclaimer-paragraph"},[e._v(" "+e._s(e.reading)+" ")]),t("div",{staticClass:"book-validation__disclaimer-warning icon"},[t("s-icon",{attrs:{name:"notifications-alert-triangle-24",size:"28px"}})],1)])]):e._e(),e.buttonDisabled?t("s-button",{staticClass:"btn s-typography-button--medium",class:e.computedBtnClass,attrs:{slot:"reference",type:"primary",disabled:e.buttonDisabled},on:{click:e.handleOrderPlacement},slot:"reference"},[e.bookStopped?[e._v(" "+e._s(e.t("orderBook.stop"))+" ")]:e.userReachedSpotLimit||e.userReachedOwnLimit?[t("error")]:e.isLimitOrder&&!e.quoteValue?[e._v(e._s(e.t("orderBook.setPrice")))]:e.isBalanceLessThanStepSize?[t("error")]:e.isLimitOrder&&(!e.baseValue||e.isZeroAmount)?[e._v(" "+e._s(e.t("orderBook.enterAmount")))]:e.isLimitOrder&&!e.isPriceBeyondPrecision?[t("error")]:e.isLimitOrder&&e.isPlaceAndCancelMode&&e.priceExceedsSpread?[t("error")]:e.isLimitOrder&&e.limitForSinglePriceReached?[t("error")]:!e.isLimitOrder&&e.isZeroAmount?[e._v(" "+e._s(e.t("orderBook.enterAmount")))]:!e.isLimitOrder&&!e.marketQuotePrice?[t("error")]:e.isOutOfAmountBounds?[t("error")]:e.isInsufficientXorForFee?[e._v(" "+e._s(e.t("insufficientBalanceText",{tokenSymbol:(s=e.xor)==null?void 0:s.symbol}))+" ")]:e.isInsufficientBalance?[e._v(" "+e._s(e.t("insufficientBalanceText",{tokenSymbol:(o=e.tokenFrom)==null?void 0:o.symbol}))+" ")]:e._e()],2):t("s-button",{staticClass:"btn s-typography-button--medium",class:e.computedBtnClass,attrs:{slot:"reference",type:"primary"},on:{click:e.handleOrderPlacement},slot:"reference"},[e.isLoggedIn?e.isBuySide?[e._v(" "+e._s(e.t("orderBook.Buy",{asset:(u=e.baseAsset)==null?void 0:u.symbol}))+" ")]:[e._v(" "+e._s(e.t("orderBook.Sell",{asset:(h=e.baseAsset)==null?void 0:h.symbol}))+" ")]:[e._v(" "+e._s(e.t("connectWalletText"))+" ")]],2)],1),e.areTokensSelected&&!e.hasZeroAmount&&!e.hasExplainableError?t("place-transaction-details",{staticClass:"info-line-container",attrs:{"info-only":!1,"is-market-type":e.isMarketType}}):e._e(),t("place-confirm",{attrs:{visible:e.confirmDialogVisibility,"is-insufficient-balance":e.isInsufficientBalance,"is-buy-side":e.isBuySide,"is-market-type":e.isMarketType},on:{"update:visible":function(B){e.confirmDialogVisibility=B},confirm:e.placeOrder}})],1)},H=[],G=Z(a,j,H,!1,null,"90e9a8dd");const se=G.exports;export{se as default};
