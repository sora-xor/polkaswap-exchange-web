var v=Object.defineProperty;var u=(i,e,t)=>e in i?v(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var n=(i,e,t)=>u(i,typeof e!="symbol"?e+"":e,t);import{m as p,gx as m,g as b,k as P,h as g,W as h,C as _,_ as c,n as f}from"./index-BHqySXo4.js";import{W}from"./WalletConnectMixin-CatA0t7p.js";var y=Object.defineProperty,w=Object.getOwnPropertyDescriptor,o=(i,e,t,s)=>{for(var l=s>1?void 0:s?w(e,t):e,a=i.length-1,d;a>=0;a--)(d=i[a])&&(l=(s?d(e,t,l):d(l))||l);return s&&l&&y(e,t,l),l};let r=class extends p(W){constructor(){super(...arguments);n(this,"selectProviderDialogVisibility");n(this,"subscribeOnEvmProviders");n(this,"appEvmProviders");n(this,"providersSubscription",null);n(this,"recommendedWallets",[m.Fearless])}async updateProviders(e){var t;e?this.providersSubscription=await this.subscribeOnEvmProviders():((t=this.providersSubscription)==null||t.call(this),this.providersSubscription=null)}get visibility(){return this.selectProviderDialogVisibility}set visibility(e){this.setSelectProviderDialogVisibility(e)}get wallets(){return this.appEvmProviders.map(e=>({extensionName:e.uuid,title:e.name,logo:{src:e.icon,alt:e.name},installed:e.installed,installUrl:e.installUrl}))}get connectedWallet(){var e;return((e=this.evmProvider)==null?void 0:e.uuid)??null}get loadingWallet(){var e;return((e=this.evmProviderLoading)==null?void 0:e.uuid)??null}get selectedWallet(){return this.loadingWallet??this.connectedWallet}get selectedWalletLoading(){return!!this.loadingWallet&&!!this.selectedWallet&&this.loadingWallet===this.selectedWallet}async handleSelectProvider(e){const t=e.extensionName,s=this.appEvmProviders.find(l=>l.uuid===t);s&&(await this.connectEvmProvider(s),this.visibility=!1)}};o([b.web3.selectProviderDialogVisibility],r.prototype,"selectProviderDialogVisibility",2);o([P.web3.subscribeOnEvmProviders],r.prototype,"subscribeOnEvmProviders",2);o([g.web3.appEvmProviders],r.prototype,"appEvmProviders",2);o([h("visibility")],r.prototype,"updateProviders",1);r=o([_({components:{DialogBase:c.DialogBase,ExtensionConnectionList:c.ExtensionConnectionList}})],r);var x=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("dialog-base",{attrs:{visible:e.visibility,title:e.t("connectEthereumWalletText"),"append-to-body":""},on:{"update:visible":function(s){e.visibility=s}}},[t("extension-connection-list",{attrs:{"show-disclaimer":"",wallets:e.wallets,"recommended-wallets":e.recommendedWallets,"connected-wallet":e.connectedWallet,"selected-wallet":e.selectedWallet,"selected-wallet-loading":e.selectedWalletLoading},on:{select:e.handleSelectProvider}})],1)},E=[],D=f(r,x,E,!1,null,null);const L=D.exports;export{L as default};
