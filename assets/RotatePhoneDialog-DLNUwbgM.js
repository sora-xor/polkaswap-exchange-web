var h=Object.defineProperty;var b=(s,e,t)=>e in s?h(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var o=(s,e,t)=>b(s,typeof e!="symbol"?e+"":e,t);import{m as u,T as f,h0 as v,g as c,i as l,C as _,_ as g,n as m}from"./index-BHqySXo4.js";var P=Object.defineProperty,y=Object.getOwnPropertyDescriptor,n=(s,e,t,a)=>{for(var r=a>1?void 0:a?y(e,t):e,d=s.length-1,p;d>=0;d--)(p=s[d])&&(r=(a?p(e,t,r):p(r))||r);return a&&r&&P(e,t,r),r};let i=class extends u(f){constructor(){super(...arguments);o(this,"rotatePhoneDialogVisibility");o(this,"isRotatePhoneHideBalanceFeatureEnabled");o(this,"isAccessAccelerometrEventDeclined");o(this,"isAccessRotationListener");o(this,"setRotatePhoneDialogVisibility");o(this,"setIsRotatePhoneHideBalanceFeatureEnabled");o(this,"setIsAccessAccelerometrEventDeclined");o(this,"setAccessGranted")}get visibility(){return this.rotatePhoneDialogVisibility&&!this.isRotatePhoneHideBalanceFeatureEnabled&&!this.isAccessAccelerometrEventDeclined&&!this.isAccessRotationListener}set visibility(t){this.setRotatePhoneDialogVisibility(t)}enableRotatePhoneHideBalanceFeature(){v.checkAccelerometerSupport()?typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceMotionEvent.requestPermission().then(t=>{t==="granted"?(this.setAccessGranted(!0),this.setIsRotatePhoneHideBalanceFeatureEnabled(!0),v.listenForDeviceRotation()):(this.setAccessGranted(!1),this.setIsAccessAccelerometrEventDeclined(!0),console.warn("Device motion permission denied."))}).catch(t=>{console.error("Error requesting device motion permission:",t)}):(this.setAccessGranted(!0),this.setIsRotatePhoneHideBalanceFeatureEnabled(!0),v.listenForDeviceRotation()):console.warn("Device does not support motion events."),this.visibility=!1}};n([c.settings.rotatePhoneDialogVisibility],i.prototype,"rotatePhoneDialogVisibility",2);n([c.settings.isRotatePhoneHideBalanceFeatureEnabled],i.prototype,"isRotatePhoneHideBalanceFeatureEnabled",2);n([c.settings.isAccessAccelerometrEventDeclined],i.prototype,"isAccessAccelerometrEventDeclined",2);n([c.settings.isAccessRotationListener],i.prototype,"isAccessRotationListener",2);n([l.settings.setRotatePhoneDialogVisibility],i.prototype,"setRotatePhoneDialogVisibility",2);n([l.settings.setIsRotatePhoneHideBalanceFeatureEnabled],i.prototype,"setIsRotatePhoneHideBalanceFeatureEnabled",2);n([l.settings.setIsAccessAccelerometrEventDeclined],i.prototype,"setIsAccessAccelerometrEventDeclined",2);n([l.settings.setAccessGranted],i.prototype,"setAccessGranted",2);i=n([_({components:{DialogBase:g.DialogBase}})],i);var D=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("dialog-base",{staticClass:"browser-notification",attrs:{visible:e.visibility},on:{"update:visible":function(a){e.visibility=a}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"browser-notification-dialog__header"},[t("s-image",{staticClass:"browser-notification-dialog__image",attrs:{src:"browser-notification/rotate-phone-tg.png",fit:"cover"}})],1)]},proxy:!0}])},[t("div",{staticClass:"browser-notification-dialog"},[t("p",{staticClass:"browser-notification-dialog__title"},[e._v(e._s(e.t("rotatePhoneNotification.title")))]),t("p",{staticClass:"browser-notification-dialog__info"},[e._v(" "+e._s(e.t("rotatePhoneNotification.info"))+" ")]),t("s-button",{staticClass:"s-typography-button--large browser-notification-dialog__btn",attrs:{type:"primary"},on:{click:function(a){return e.enableRotatePhoneHideBalanceFeature()}}},[e._v(" "+e._s(e.t("browserPermission.btnAllow"))+" ")])],1)])},A=[],R=m(i,D,A,!1,null,"81c09829");const B=R.exports;export{B as default};
