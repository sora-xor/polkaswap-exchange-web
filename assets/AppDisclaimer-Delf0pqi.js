var v=Object.defineProperty;var _=(t,e,i)=>e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var a=(t,e,i)=>_(t,typeof e!="symbol"?e+"":e,i);import{m as h,T as u,r as m,L as o,g as A,i as d,R as g,C as f,n as y}from"./index-BHqySXo4.js";var k=Object.defineProperty,D=Object.getOwnPropertyDescriptor,c=(t,e,i,s)=>{for(var r=s>1?void 0:s?D(e,i):e,l=t.length-1,p;l>=0;l--)(p=t[l])&&(r=(s?p(e,i,r):p(r))||r);return s&&r&&k(e,i,r),r};let n=class extends h(u){constructor(){super(...arguments);a(this,"userDisclaimerApprove");a(this,"setUserDisclaimerApprove");a(this,"toggleVisibility");a(this,"loadingAcceptBtn",!1);a(this,"isActiveAccptBtn",!1);a(this,"endLine")}async handleAccept(){this.loadingAcceptBtn=!0,await m(1200),this.setUserDisclaimerApprove(),this.toggleVisibility()}handleClose(){this.toggleVisibility()}get btnText(){return this.isActiveAccptBtn?this.t("acceptText"):this.t("acceptOnScrollText")}get disclaimerPrefix(){return`<span class="disclaimer__prefix">${this.t("disclaimerTitle")}:</span>`}get memorandumLink(){return this.generateDisclaimerLink(o.terms,this.t("memorandum"))}get privacyLink(){return this.generateDisclaimerLink(o.privacy,this.t("helpDialog.privacyPolicy"))}get polkaswapFaqLink(){return this.generateDisclaimerLink(o.faq,this.t("FAQ"))}generateDisclaimerLink(i,s){return`<a href="${i}" target="_blank" rel="nofollow noopener" class="link" title="${s}">${s}</a>`}checkUserScroll(){let i;try{i=new IntersectionObserver(s=>{s[0].isIntersecting&&this.makeAcceptBtnActive(300)},{threshold:.95})}catch{this.makeAcceptBtnActive(2e3);return}this.endLine?i.observe(this.endLine):this.makeAcceptBtnActive(2e3)}async makeAcceptBtnActive(i=1e3){await m(i),this.isActiveAccptBtn=!0}mounted(){this.checkUserScroll()}};c([A.settings.userDisclaimerApprove],n.prototype,"userDisclaimerApprove",2);c([d.settings.setUserDisclaimerApprove],n.prototype,"setUserDisclaimerApprove",2);c([d.settings.toggleDisclaimerDialogVisibility],n.prototype,"toggleVisibility",2);c([g("endLine")],n.prototype,"endLine",2);n=c([f],n);var L=function(){var e=this,i=e._self._c;return e._self._setupProxy,i("div",{staticClass:"disclaimer"},[i("div",{staticClass:"disclaimer__header"},[i("div",{staticClass:"disclaimer__header-title"},[e._v(e._s(e.t("disclaimerTitle")))]),e.userDisclaimerApprove?i("s-icon",{directives:[{name:"button",rawName:"v-button"}],staticClass:"disclaimer__header-close-btn",attrs:{size:"28px",name:"basic-clear-X-xs-24"},nativeOn:{click:function(s){return e.handleClose.apply(null,arguments)}}}):e._e()],1),i("s-scrollbar",[i("div",{staticClass:"disclaimer__text"},[i("p",{domProps:{innerHTML:e._s(e.t("disclaimer",{disclaimerPrefix:e.disclaimerPrefix,polkaswapFaqLink:e.polkaswapFaqLink,memorandumLink:e.memorandumLink,privacyLink:e.privacyLink}))}}),i("p",{ref:"endLine",staticClass:"disclaimer__text-fiat"},[e._v(e._s(e.t("fiatDisclaimer")))])])]),e.userDisclaimerApprove?e._e():i("s-button",{staticClass:"disclaimer__accept-btn",attrs:{loading:e.loadingAcceptBtn,type:"primary",disabled:!e.isActiveAccptBtn},on:{click:e.handleAccept}},[e._v(" "+e._s(e.btnText)+" ")])],1)},b=[],x=y(n,L,b,!1,null,"f49d9931");const P=x.exports;export{P as default};
