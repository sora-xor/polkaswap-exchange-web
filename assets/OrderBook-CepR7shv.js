var B=Object.defineProperty;var h=(a,t,s)=>t in a?B(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;var d=(a,t,s)=>h(a,typeof t!="symbol"?t+"":t,s);import{m as f,T as m,$ as C,hg as A,o as w,ho as O,gE as y,g as b,h as c,i as v,k,W as g,C as S,l as n,j as u,n as _}from"./index-BHqySXo4.js";import{S as I}from"./SelectedTokensRouteMixin-Bp732g0d.js";var R=Object.defineProperty,T=Object.getOwnPropertyDescriptor,i=(a,t,s,e)=>{for(var r=e>1?void 0:e?T(t,s):t,l=a.length-1,p;l>=0;l--)(p=a[l])&&(r=(e?p(t,s,r):p(r))||r);return e&&r&&R(t,s,r),r};let o=class extends f(m,C.LoadingMixin,I){constructor(){super(...arguments);d(this,"orderBooks");d(this,"responsiveClass");d(this,"orderBookEnabled");d(this,"orderBookId");d(this,"baseAsset");d(this,"quoteAsset");d(this,"setCurrentOrderBook");d(this,"getOrderBooksInfo");d(this,"subscribeToOrderBookStats");d(this,"unsubscribeFromOrderBookStats");d(this,"unsubscribeFromBidsAndAsks");d(this,"settingsVisibility",!1)}updateSubscription(){var t;this.subscribeToOrderBookStats(),this.firstRouteAddress&&this.secondRouteAddress&&((t=this.baseAsset)==null?void 0:t.address)!==this.firstRouteAddress&&this.updateRouteAfterSelectTokens(this.baseAsset,this.quoteAsset)}checkAvailability(t){t===!1&&A(w.Swap)}get isScreenHuge(){return this.responsiveClass===O.HugeDesktop}async setData(t){y(this.orderBooks)&&await this.getOrderBooksInfo();const e=Object.values(this.orderBooks).find(({orderBookId:r})=>r.base===t.firstAddress&&r.quote===t.secondAddress);e&&this.setCurrentOrderBook(e.orderBookId)}created(){this.withApi(async()=>{if(await this.getOrderBooksInfo(),this.orderBookId){this.updateRouteAfterSelectTokens(this.baseAsset,this.quoteAsset);return}const t=Object.values(this.orderBooks);if(this.parseCurrentRoute(),this.isValidRoute&&this.firstRouteAddress&&this.secondRouteAddress){const s=t.find(({orderBookId:e})=>e.base===this.firstRouteAddress&&e.quote===this.secondRouteAddress);s&&this.setCurrentOrderBook(s.orderBookId)}if(!this.orderBookId){const s=t.sort((e,r)=>e.status!==r.status?r.status>e.status?1:-1:r.orderBookId.dexId-e.orderBookId.dexId)[0];s&&(this.setCurrentOrderBook(s.orderBookId),this.updateRouteAfterSelectTokens(this.baseAsset,this.quoteAsset))}})}beforeDestroy(){this.unsubscribeFromOrderBookStats(),this.unsubscribeFromBidsAndAsks()}};i([b.orderBook.orderBooks],o.prototype,"orderBooks",2);i([b.settings.screenBreakpointClass],o.prototype,"responsiveClass",2);i([c.settings.orderBookEnabled],o.prototype,"orderBookEnabled",2);i([c.orderBook.orderBookId],o.prototype,"orderBookId",2);i([c.orderBook.baseAsset],o.prototype,"baseAsset",2);i([c.orderBook.quoteAsset],o.prototype,"quoteAsset",2);i([v.orderBook.setCurrentOrderBook],o.prototype,"setCurrentOrderBook",2);i([k.orderBook.getOrderBooksInfo],o.prototype,"getOrderBooksInfo",2);i([k.orderBook.subscribeToOrderBookStats],o.prototype,"subscribeToOrderBookStats",2);i([k.orderBook.unsubscribeFromOrderBookStats],o.prototype,"unsubscribeFromOrderBookStats",2);i([k.orderBook.unsubscribeFromBidsAndAsks],o.prototype,"unsubscribeFromBidsAndAsks",2);i([g("orderBookId",{immediate:!0})],o.prototype,"updateSubscription",1);i([g("orderBookEnabled",{immediate:!0})],o.prototype,"checkAvailability",1);o=i([S({components:{BookWidget:n(u.BookWidget),SetLimitOrderWidget:n(u.SetLimitOrderWidget),HistoryOrderWidget:n(u.HistoryOrderWidget),BookChartsWidget:n(u.BookChartsWidget),MarketTradesWidget:n(u.MarketTradesWidget),CustomisePageWidget:n(u.CustomisePage)}})],o);var W=function(){var t=this,s=t._self._c;return t._self._setupProxy,s("div",[t.isScreenHuge?s("div",{staticClass:"order-book-widgets--huge"},[s("div",{staticClass:"column-1"},[s("set-limit-order-widget",{staticClass:"set-widget"}),s("customise-page-widget",{staticClass:"setting-widget",attrs:{visible:t.settingsVisibility},on:{"update:visible":function(e){t.settingsVisibility=e}}})],1),s("div",{staticClass:"column-2"},[s("book-charts-widget",{staticClass:"chart-widget",attrs:{"pip-disabled":""}}),s("history-order-widget",{staticClass:"history-widget",attrs:{"pip-disabled":""}})],1),s("div",{staticClass:"column-3"},[s("book-widget",{staticClass:"book-widget",attrs:{"pip-disabled":""}}),s("market-trades-widget",{staticClass:"trades-widget",attrs:{"pip-disabled":""}})],1)]):s("div",{staticClass:"order-book-widgets"},[s("div",{staticClass:"column-2"},[s("set-limit-order-widget",{staticClass:"set-widget"}),s("book-widget",{staticClass:"book-widget",attrs:{"pip-disabled":""}})],1),s("div",{staticClass:"column-3"},[s("history-order-widget",{staticClass:"history-widget",attrs:{"pip-disabled":""}}),s("market-trades-widget",{staticClass:"trades-widget",attrs:{"pip-disabled":""}})],1),s("div",{staticClass:"column-1"},[s("book-charts-widget",{staticClass:"chart-widget",attrs:{"pip-disabled":""}})],1)])])},x=[],F=_(o,W,x,!1,null,null);const j=F.exports;export{j as default};
