var w=Object.defineProperty;var x=(a,t,s)=>t in a?w(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;var u=(a,t,s)=>x(a,typeof t!="symbol"?t+"":t,s);import{al as b,m as T,$ as O,T as A,b as _,g as C,h as g,C as V,gu as B,gv as L,_ as k,l as h,j as F,n as N}from"./index-BHqySXo4.js";import{c as z}from"./swap-CnGlujmL.js";var E=Object.defineProperty,D=Object.getOwnPropertyDescriptor,c=(a,t,s,e)=>{for(var o=e>1?void 0:e?D(t,s):t,r=a.length-1,i;r>=0;r--)(i=a[r])&&(o=(e?i(t,s,o):i(o))||o);return e&&o&&E(t,s,o),o};const R={[b.XYKPool]:"XYK Pool",[b.MulticollateralBondingCurvePool]:"TBC Pool",[b.XSTPool]:"XST Pool",[b.OrderBook]:"Order Book"};let n=class extends T(O.FormattedAmountMixin,A){constructor(){super(...arguments);u(this,"distribution");u(this,"fromValue");u(this,"toValue");u(this,"getAsset");u(this,"tokenFrom");u(this,"tokenTo")}get swapPaths(){const t=[];return this.distribution.forEach((s,e,o)=>{const r=[];let i=_.FPNumber.ZERO,m=_.FPNumber.ZERO;const p=this.getAsset(s[0].input),d=this.getAsset(s[0].output);s.forEach(l=>{const v=l.income,f=l.outcome,P=this.getFPNumberFiatAmountByFPNumber(v,p)??_.FPNumber.ZERO,y=this.getFPNumberFiatAmountByFPNumber(f,d)??_.FPNumber.ZERO,S=z(P,y).toFixed(2);i=i.add(v),m=m.add(f),r.push({income:v.toLocaleString(),outcome:f.toLocaleString(),fee:l.fee.toLocaleString(),source:R[l.market],fiatDifference:S})}),t.push({input:p,output:d,amount:i.toLocaleString(),sources:r}),e===o.length-1&&t.push({input:d,amount:m.toLocaleString(),sources:[]})}),t}};c([C.swap.distribution],n.prototype,"distribution",2);c([C.swap.fromValue],n.prototype,"fromValue",2);c([C.swap.toValue],n.prototype,"toValue",2);c([g.assets.assetDataByAddress],n.prototype,"getAsset",2);c([g.swap.tokenFrom],n.prototype,"tokenFrom",2);c([g.swap.tokenTo],n.prototype,"tokenTo",2);n=c([V({components:{SSkeleton:B,SSkeletonItem:L,TokenLogo:k.TokenLogo,FormattedAmount:k.FormattedAmount,BaseWidget:h(F.BaseWidget),ValueStatusWrapper:h(F.ValueStatusWrapper)}})],n);var I=function(){var t=this,s=t._self._c;return t._self._setupProxy,s("base-widget",t._b({attrs:{title:t.t("swap.route")}},"base-widget",t.$attrs,!1),[s("s-skeleton",{attrs:{loading:!t.swapPaths.length},scopedSlots:t._u([{key:"template",fn:function(){return[s("div",{staticClass:"distribution"},[s("div",{staticClass:"distribution-step"},[s("div",{staticClass:"distribution-asset"},[t.tokenFrom?[s("token-logo",{staticClass:"distribution-asset-logo",attrs:{token:t.tokenFrom,size:"small"}}),s("span",{staticClass:"distribution-asset-amount"},[t._v(t._s(t.fromValue)+" "+t._s(t.tokenFrom.symbol))])]:t._e()],2),s("div",{staticClass:"distribution-path"},[s("span",{staticClass:"distribution-path-line"}),s("div",{staticClass:"distribution-path-sources"},[s("div",{staticClass:"distribution-path-source"},[s("div",{staticClass:"flex-cell"},[s("s-skeleton-item",{staticClass:"distribution-path-source-name",attrs:{element:"rect"}}),s("s-skeleton-item",{staticClass:"distribution-path-source-change",attrs:{element:"rect"}})],1),s("div",{staticClass:"flex-cell"},[s("s-skeleton-item",{attrs:{element:"circle"}}),s("s-skeleton-item",{attrs:{element:"rect"}}),s("s-skeleton-item",{attrs:{element:"circle"}}),s("s-skeleton-item",{attrs:{element:"rect"}})],1)])])])]),s("div",{staticClass:"distribution-step"},[s("div",{staticClass:"distribution-asset"},[t.tokenTo?[s("token-logo",{staticClass:"distribution-asset-logo",attrs:{token:t.tokenTo,size:"small"}}),s("span",{staticClass:"distribution-asset-amount"},[t._v(t._s(t.toValue)+" "+t._s(t.tokenTo.symbol))])]:t._e()],2)])])]},proxy:!0}])},[s("ul",{staticClass:"distribution"},t._l(t.swapPaths,function({input:e,output:o,amount:r,sources:i}){return s("li",{key:e.address,staticClass:"distribution-step"},[s("div",{staticClass:"distribution-asset"},[s("token-logo",{staticClass:"distribution-asset-logo",attrs:{token:e,size:"small"}}),s("span",{staticClass:"distribution-asset-amount"},[t._v(t._s(r)+" "+t._s(e.symbol))])],1),i.length?s("div",{staticClass:"distribution-path"},[s("span",{staticClass:"distribution-path-line"}),s("div",{staticClass:"distribution-path-sources"},t._l(i,function({source:m,income:p,outcome:d,fiatDifference:l}){return s("div",{key:m,staticClass:"distribution-path-source"},[s("div",{staticClass:"flex-cell"},[s("span",{staticClass:"distribution-path-source-name"},[t._v(t._s(m)+":")]),s("value-status-wrapper",{staticClass:"distribution-path-source-change",attrs:{value:l}},[s("formatted-amount",{attrs:{value:t.formatStringValue(l)}},[t._v("%")])],1)],1),s("div",{staticClass:"flex-cell"},[s("div",{staticClass:"flex-cell"},[s("token-logo",{attrs:{token:e,size:"mini"}}),t._v(t._s(p))],1),t._v(" â†’ "),s("div",{staticClass:"flex-cell"},[s("token-logo",{attrs:{token:o,size:"mini"}}),t._v(t._s(d))],1)])])}),0)]):t._e()])}),0)])],1)},W=[],M=N(n,I,W,!1,null,"fc7d923c");const K=M.exports;export{K as default};
