var g=Object.defineProperty;var _=(r,e,t)=>e in r?g(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var i=(r,e,t)=>_(r,typeof e!="symbol"?e+"":e,t);import{m as y,T as x,$ as A,F as m,aI as F,g as p,h as d,C as D,_ as O,n as P}from"./index-BHqySXo4.js";var R=Object.defineProperty,C=Object.getOwnPropertyDescriptor,u=(r,e,t,l)=>{for(var s=l>1?void 0:l?C(e,t):e,a=r.length-1,o;a>=0;a--)(o=r[a])&&(s=(l?o(e,t,s):o(s))||s);return l&&s&&R(e,t,s),s};let n=class extends y(x,A.FormattedAmountMixin){constructor(){super(...arguments);i(this,"collateralsObj");i(this,"stablecoinInfos");i(this,"getAsset");i(this,"exchangeRate");i(this,"currencySymbol")}get collaterals(){return Object.values(this.collateralsObj)}get badDebt(){return Object.entries(this.stablecoinInfos).reduce((t,[l,s])=>{const a=this.getAsset(l);if(!a)return t;const o=this.getFPNumberFiatAmountByFPNumber(s.badDebt,a);return o?t.add(o.mul(this.exchangeRate)):t},m.ZERO)}get total(){return this.collaterals.reduce((t,{totalLocked:l,lockedAssetId:s,debtSupply:a,debtAssetId:o,riskParams:{hardCap:v}})=>{const h=this.getAsset(s);if(h){const c=this.getFPNumberFiatAmountByFPNumber(l,h);c&&(t.collateral=t.collateral.add(c.mul(this.exchangeRate)))}const b=this.getAsset(o);if(b){const c=this.getFPNumberFiatAmountByFPNumber(a,b);c&&(t.debt=t.debt.add(c.mul(this.exchangeRate)));const f=this.getFPNumberFiatAmountByFPNumber(v.sub(a),b);f&&(t.available=t.available.add(f.mul(this.exchangeRate)))}return t},{debt:m.ZERO,collateral:m.ZERO,available:m.ZERO})}get columns(){return[{title:this.t("kensetsu.overallTotalCollateral"),tooltip:this.t("kensetsu.overallTotalCollateralDescription"),amount:this.total.collateral},{title:this.t("kensetsu.overallTotalDebt"),tooltip:this.t("kensetsu.overallTotalDebtDescription"),amount:this.total.debt},{title:this.t("kensetsu.overallAvailable"),tooltip:this.t("kensetsu.overallAvailableDescription"),amount:this.total.available},{title:this.t("kensetsu.overallBadDebt"),tooltip:this.t("kensetsu.overallBadDebtDescription"),amount:this.badDebt}]}get statsColumns(){return this.columns.map(({amount:t,title:l,tooltip:s})=>{const a=F(t);return{title:l,tooltip:s,value:a}})}};u([p.vault.collaterals],n.prototype,"collateralsObj",2);u([p.vault.stablecoinInfos],n.prototype,"stablecoinInfos",2);u([d.assets.assetDataByAddress],n.prototype,"getAsset",2);u([d.wallet.settings.exchangeRate],n.prototype,"exchangeRate",2);u([d.wallet.settings.currencySymbol],n.prototype,"currencySymbol",2);n=u([D({components:{FormattedAmount:O.FormattedAmount}})],n);var E=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("s-row",{attrs:{gutter:24}},e._l(e.statsColumns,function({title:l,tooltip:s,value:a}){return t("s-col",{key:l,staticClass:"stats-column",attrs:{xs:12,sm:6,md:4,lg:3}},[t("s-card",{staticClass:"stats-card",attrs:{size:"small","border-radius":"mini",primary:""}},[t("div",{staticClass:"stats-card-title",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(l))]),t("s-tooltip",{attrs:{"border-radius":"mini",content:s}},[t("s-icon",{attrs:{name:"info-16",size:"14px"}})],1)],1),t("div",{staticClass:"stats-card-data"},[t("formatted-amount",{staticClass:"stats-card-value",attrs:{"font-weight-rate":e.FontWeightRate.MEDIUM,"font-size-rate":e.FontSizeRate.MEDIUM,value:a.amount,"asset-symbol":a.suffix,"symbol-as-decimal":""},scopedSlots:e._u([{key:"prefix",fn:function(){return[e._v(e._s(e.currencySymbol))]},proxy:!0}],null,!0)})],1)])],1)}),1)},I=[],N=P(n,E,I,!1,null,"271507cc");const B=N.exports;export{B as default};
