var h=Object.defineProperty;var f=(r,t,e)=>t in r?h(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var n=(r,t,e)=>f(r,typeof t!="symbol"?t+"":t,e);import{m as C,$ as y,T as j,aD as s,L as R,aE as v,g as _,h as S,i as A,k as m,C as P,n as x}from"./index-BHqySXo4.js";var T=Object.defineProperty,b=Object.getOwnPropertyDescriptor,c=(r,t,e,o)=>{for(var i=o>1?void 0:o?b(t,e):t,u=r.length-1,d;u>=0;u--)(d=r[u])&&(i=(o?d(t,e,i):d(i))||i);return o&&i&&T(t,e,i),i};const l="card.statusPendingTitle",p="card.statusPendingText",g="time-time-24";let a=class extends C(y.LoadingMixin,j){constructor(){super(...arguments);n(this,"fees");n(this,"attemptCounter");n(this,"rejectReasons");n(this,"currentStatus");n(this,"setWillToPassKycAgain");n(this,"getUserKycAttempt");n(this,"getUserStatus");n(this,"VerificationStatus",s)}get rejectedText(){if(this.currentStatus===s.Rejected&&this.rejectReasons.length){if(this.isMultipleReasons){const e=this.rejectReasons.map(o=>`<li>${o.toString()}</li>`);return`${this.t("card.statusRejectReasonMultiple")} ${e.join("")}`}return`${this.t("card.statusRejectReason")}: ${this.rejectReasons[0]}`}return this.t("card.statusRejectText")}get isMultipleReasons(){return this.rejectReasons.length>1}get retryFee(){return this.fees.retry}get freeAttemptsLeft(){return Number(this.attemptCounter.freeAttemptsLeft)}get hasFreeAttempts(){return this.attemptCounter.hasFreeAttempts}get isRejected(){return this.currentStatus===s.Rejected}get isRejectedOrPending(){return[s.Pending,s.Rejected].includes(this.currentStatus)}get titleKey(){if(!this.currentStatus)return l;switch(this.currentStatus){case s.Pending:return l;case s.Accepted:return"card.statusAcceptTitle";case s.Rejected:return"card.statusRejectTitle";default:return l}}get text(){if(!this.currentStatus)return this.t(p);switch(this.currentStatus){case s.Pending:return this.t(p);case s.Accepted:return this.t("card.statusAcceptText");case s.Rejected:return this.rejectedText;default:return this.t(p)}}get icon(){if(this.currentStatus===s.Rejected&&!this.hasFreeAttempts)return"time-time-24";switch(this.currentStatus){case s.Pending:return g;case s.Accepted:return"basic-check-marks-24";case s.Rejected:return"basic-close-24";default:return g}}get computedIconClass(){const e="sora-card__card-icon";if(this.currentStatus===s.Rejected&&!this.hasFreeAttempts)return`${e}--waiting`;switch(this.currentStatus){case s.Pending:return`${e}--waiting`;case s.Accepted:return`${e}--success`;case s.Rejected:return`${e}--reject`;default:return`${e}--waiting`}}openSupportChannel(){window.open(R.soraCardSupportChannel,"_blank")}handleKycRetry(){this.setWillToPassKycAgain(!0),this.$emit("confirm-apply",!0)}async mounted(){await this.getUserStatus(),this.currentStatus===s.Rejected&&await this.getUserKycAttempt(),v()}};c([_.soraCard.fees],a.prototype,"fees",2);c([_.soraCard.attemptCounter],a.prototype,"attemptCounter",2);c([_.soraCard.rejectReasons],a.prototype,"rejectReasons",2);c([S.soraCard.currentStatus],a.prototype,"currentStatus",2);c([A.soraCard.setWillToPassKycAgain],a.prototype,"setWillToPassKycAgain",2);c([m.soraCard.getUserKycAttempt],a.prototype,"getUserKycAttempt",2);c([m.soraCard.getUserStatus],a.prototype,"getUserStatus",2);a=c([P],a);var w=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"sora-card container"},[e("div",{staticClass:"sora-card__card"},[e("s-image",{staticClass:"unselectable sora-card__card-image",attrs:{src:"card/sora-card-front.png",lazy:"",fit:"cover",draggable:"false"}}),e("div",{staticClass:"sora-card__card-icon",class:t.computedIconClass},[e("s-icon",{staticClass:"sora-card__card-icon-element",attrs:{name:t.icon}})],1)],1),e("div",{staticClass:"sora-card__header"},[t._v(t._s(t.t(t.titleKey)))]),e("p",{staticClass:"sora-card__status-info",domProps:{innerHTML:t._s(t.text)}}),t.isRejected?e("div",{staticClass:"sora-card__rejection"},[t.freeAttemptsLeft?e("div",{staticClass:"tos__disclaimer"},[e("h4",{staticClass:"tos__disclaimer-header"},[t._v(" "+t._s(t.tc("card.rejectCount",t.freeAttemptsLeft,{count:t.freeAttemptsLeft}))+" ")]),e("p",{staticClass:"tos__disclaimer-paragraph"},[t._v(" "+t._s(t.t("card.rejectionPriceAttemptDisclaimer",{0:t.retryFee}))+" ")]),e("div",{staticClass:"tos__disclaimer-warning icon"},[e("s-icon",{attrs:{name:"notifications-alert-triangle-24",size:"28px"}})],1)]):t._e(),t.hasFreeAttempts?e("s-button",{staticClass:"sora-card__btn s-typography-button--large",attrs:{type:"primary"},on:{click:t.handleKycRetry}},[e("span",{staticClass:"text"},[t._v(t._s(t.t("card.retryKycBtn")))])]):e("div",{staticClass:"sora-card__no-more-free-kyc"},[e("h4",[t._v(t._s(t.t("card.noFreeKycTitle")))]),e("p",{staticClass:"sora-card__no-more-free-kyc-text"},[t._v(" "+t._s(t.t("card.noFreeAttemptsDesc"))+" ")])])],1):t._e(),t.isRejectedOrPending?e("div",{staticClass:"sora-card__support"},[e("s-button",{staticClass:"sora-card__btn sora-card__btn-support s-typography-button--large",on:{click:t.openSupportChannel}},[e("span",{staticClass:"text"},[t._v(t._s(t.t("card.telegramSupport")))])])],1):t._e()])},K=[],$=x(a,w,K,!1,null,"81acc8f6");const I=$.exports;export{I as default};
