var g=Object.defineProperty;var A=(o,e,s)=>e in o?g(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s;var r=(o,e,s)=>A(o,typeof e!="symbol"?e+"":e,s);import{m as f,T as v,$ as _,F as b,f as S,a4 as p,o as u,b as L,X as q,h as c,k as y,i as I,C as T,n as x}from"./index-BHqySXo4.js";var B=Object.defineProperty,C=Object.getOwnPropertyDescriptor,n=(o,e,s,a)=>{for(var t=a>1?void 0:a?C(e,s):e,l=o.length-1,d;l>=0;l--)(d=o[l])&&(t=(a?d(e,s,t):d(t))||t);return a&&t&&B(e,s,t),t};let i=class extends f(v,_.LoadingMixin){constructor(){super(...arguments);r(this,"isLoggedIn");r(this,"whitelist");r(this,"whitelistIdsBySymbol");r(this,"getAsset");r(this,"setSwapFromAsset");r(this,"setSwapToAsset");r(this,"setAddliquidityAssetA");r(this,"navigate")}tryNavigate(){this.withApi(()=>{try{if(!this.isLoggedIn)return;const s=this.$route.query,a=s.page;if(!a||a!=="send")return;const t=s.to,l=typeof s.amount=="string"?new b(s.amount||0).toString():void 0,d=this.whitelistIdsBySymbol[s.asset.toUpperCase()];if(!d)return;const h=this.getAsset(d);this.navigate({name:S.RouteNames.WalletSend,params:{address:t,amount:l,asset:h}})}catch(s){console.warn("[WALLET] Navigate issue:",s)}})}created(){this.tryNavigate()}beforeRouteUpdate(s,a,t){t(),this.tryNavigate()}handleClose(){p.back()}async handleSwap(s){await this.setSwapFromAsset(s.address),await this.setSwapToAsset(),p.push({name:u.Swap})}async handleLiquidity(s){var m,w;if(L.api.dex.baseAssetsIds.includes(s.address)){this.setAddliquidityAssetA(s.address),p.push({name:u.AddLiquidity});return}const a=q.address,t=s.address,l=((m=this.whitelist[a])==null?void 0:m.symbol)??a,d=((w=this.whitelist[t])==null?void 0:w.symbol)??t,h={first:l,second:d};p.push({name:u.AddLiquidity,params:h})}handleBridge(s){p.push({name:u.Bridge,params:{address:s.address}})}};n([c.wallet.account.isLoggedIn],i.prototype,"isLoggedIn",2);n([c.wallet.account.whitelist],i.prototype,"whitelist",2);n([c.wallet.account.whitelistIdsBySymbol],i.prototype,"whitelistIdsBySymbol",2);n([c.assets.assetDataByAddress],i.prototype,"getAsset",2);n([y.swap.setTokenFromAddress],i.prototype,"setSwapFromAsset",2);n([y.swap.setTokenToAddress],i.prototype,"setSwapToAsset",2);n([y.addLiquidity.setFirstTokenAddress],i.prototype,"setAddliquidityAssetA",2);n([I.wallet.router.navigate],i.prototype,"navigate",2);i=n([T],i);var F=function(){var e=this,s=e._self._c;return e._self._setupProxy,s("sora-wallet",{directives:[{name:"loading",rawName:"v-loading",value:e.parentLoading,expression:"parentLoading"}],staticClass:"container container--wallet",on:{close:e.handleClose,swap:e.handleSwap,liquidity:e.handleLiquidity,bridge:e.handleBridge}})},N=[],P=x(i,F,N,!1,null,null);const $=P.exports;export{$ as default};
