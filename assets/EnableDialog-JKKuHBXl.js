var g=Object.defineProperty;var p=(s,i,t)=>i in s?g(s,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[i]=t;var l=(s,i,t)=>p(s,typeof i!="symbol"?i+"":i,t);import{m as _,T as b,$ as c,g as m,i as v,C as d,_ as u,n as w}from"./index-BHqySXo4.js";var h=Object.defineProperty,C=Object.getOwnPropertyDescriptor,f=(s,i,t,a)=>{for(var e=a>1?void 0:a?C(i,t):i,n=s.length-1,r;n>=0;n--)(r=s[n])&&(e=(a?r(i,t,e):r(e))||e);return a&&e&&h(i,t,e),e};let o=class extends _(b,c.LoadingMixin,c.DialogMixin){constructor(){super(...arguments);l(this,"isAvailable");l(this,"setNotifsAgreement")}async handleConfirm(){if(this.isAvailable){this.closeDialog(),this.$emit("set-dark-page",!0);const i=await Notification.requestPermission();this.setNotifsAgreement(i),this.$emit("set-dark-page",!1)}}};f([m.settings.isBrowserNotificationApiAvailable],o.prototype,"isAvailable",2);f([v.settings.setBrowserNotifsAgreement],o.prototype,"setNotifsAgreement",2);o=f([d({components:{DialogBase:u.DialogBase}})],o);var D=function(){var i=this,t=i._self._c;return i._self._setupProxy,t("dialog-base",{staticClass:"browser-notification",attrs:{title:i.t("browserNotificationDialog.title"),visible:i.isVisible},on:{"update:visible":function(a){i.isVisible=a}}},[t("div",{staticClass:"browser-notification-dialog"},[t("s-image",{staticClass:"unselectable",attrs:{src:"browser-notification/chrome.png",lazy:"",fit:"cover",draggable:"false"}}),t("p",{staticClass:"browser-notification-dialog__info"},[i._v(" "+i._s(i.t("browserNotificationDialog.info"))+" ")]),t("s-button",{staticClass:"browser-notification-dialog__btn s-typography-button--large",attrs:{type:"primary",loading:i.loading},on:{click:i.handleConfirm}},[i._v(" "+i._s(i.t("browserNotificationDialog.button"))+" ")])],1)])},A=[],N=w(o,D,A,!1,null,"11d9b98f");const P=N.exports;export{P as default};
