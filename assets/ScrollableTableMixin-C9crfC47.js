var u=Object.defineProperty;var f=(r,t,e)=>t in r?u(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var o=(r,t,e)=>f(r,typeof t!="symbol"?t+"":t,e);import{m as P,$ as b,f as i,V as C,h2 as W,R as $,C as w}from"./index-BHqySXo4.js";var S=Object.defineProperty,v=Object.getOwnPropertyDescriptor,h=(r,t,e,l)=>{for(var a=l>1?void 0:l?v(t,e):t,s=r.length-1,n;s>=0;s--)(n=r[s])&&(a=(l?n(t,e,a):n(a))||a);return l&&a&&S(t,e,a),a};let p=class extends P(b.LoadingMixin,b.PaginationSearchMixin,b.FormattedAmountMixin){constructor(){super(...arguments);o(this,"FontSizeRate",i.FontSizeRate);o(this,"FontWeightRate",i.FontWeightRate);o(this,"scrollbarWatcher",null);o(this,"tableComponent")}get loadingState(){return this.parentLoading||this.loading}get preparedItems(){return console.warn('[ScrollableTableMixin]: "preparedItems" computed property is not implemented'),[]}get total(){return this.preparedItems.length}get tableItems(){return this.getPageItems(this.preparedItems)}async mounted(){await this.withParentLoading(async()=>{await this.$nextTick(),this.initScrollbar()})}beforeDestroy(){this.resetScrollbarWatcher()}handlePaginationClick(t){let e=1;switch(t){case i.PaginationButton.Prev:e=this.currentPage-1;break;case i.PaginationButton.Next:e=this.currentPage+1;break;case i.PaginationButton.Last:e=this.lastPage;break}this.currentPage=e}initScrollbar(){if(!this.tableComponent)return;const t=C.extend(W),e=new t;e.$mount();const l=this.tableComponent.$refs.table,a=l.$refs.bodyWrapper,s=l.$refs.headerWrapper,n=a.getElementsByTagName("table")[0],m=e.$el,g=e.$el.getElementsByClassName("el-scrollbar__wrap")[0],d=e.$el.getElementsByClassName("el-scrollbar__view")[0];m.classList.add("scrollable-table"),a.appendChild(e.$el),d.appendChild(n),this.scrollbarWatcher=this.$watch(()=>e.$children[0].moveX,()=>{const c=g.scrollLeft;a.scrollLeft=c,s.scrollLeft=c,l.scrollPosition=c===0?"left":"right"})}resetScrollbarWatcher(){var t;(t=this.scrollbarWatcher)==null||t.call(this),this.scrollbarWatcher=null}};h([$("table")],p.prototype,"tableComponent",2);p=h([w],p);export{p as S};
