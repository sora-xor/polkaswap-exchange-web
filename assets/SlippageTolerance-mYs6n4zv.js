var T=Object.defineProperty;var d=(s,a,e)=>a in s?T(s,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[a]=e;var t=(s,a,e)=>d(s,typeof a!="symbol"?a+"":a,e);import{m,$ as h,T as f,b as c,g,i as u,C as S,l as _,j as x,_ as b,n as v}from"./index-BHqySXo4.js";var C=Object.defineProperty,V=Object.getOwnPropertyDescriptor,r=(s,a,e,l)=>{for(var n=l>1?void 0:l?V(a,e):a,p=s.length-1,o;p>=0;p--)(o=s[p])&&(n=(l?o(a,e,n):o(n))||n);return l&&n&&C(a,e,n),n};let i=class extends m(h.NumberFormatterMixin,f){constructor(){super(...arguments);t(this,"delimiters",c.FPNumber.DELIMITERS_CONFIG);t(this,"SlippageToleranceTabs",["0.1","0.5","1"].map(e=>({name:e,label:`${this.formatStringValue(e)}%`})));t(this,"slippageToleranceExtremeValues",{min:.01,max:10});t(this,"slippageToleranceFocused",!1);t(this,"slippageToleranceOpened",!0);t(this,"slippageTolerance");t(this,"transactionDeadline");t(this,"setSlippageTolerance");t(this,"setTransactionDeadline")}get localeFormattedSlippageTolerance(){return`${this.formatStringValue(this.slippageTolerance)}%`}get customSlippageTolerance(){const e=this.slippageToleranceFocused?"":"%";return`${this.slippageTolerance}${e}`}set customSlippageTolerance(e){const l=this.prepareInputValue(e);this.setSlippageTolerance(l)}get slippageToleranceClasses(){const e="slippage-tolerance",l=[e,"s-flex"];return this.slippageToleranceValidation&&l.push(`${e}--${this.slippageToleranceValidation==="frontrun"?"warning":this.slippageToleranceValidation}`),l.join(" ")}get computedClasses(){return this.slippageToleranceOpened?"is-collapsed":""}get isErrorValue(){const e=Number(this.slippageTolerance);return e<this.slippageToleranceExtremeValues.min||e>this.slippageToleranceExtremeValues.max}get slippageToleranceValidation(){const e=Number(this.slippageTolerance);return e>=this.slippageToleranceExtremeValues.min&&e<=.1?"warning":e>=5&&e<=this.slippageToleranceExtremeValues.max?"frontrun":this.isErrorValue?"error":""}selectTab(e){this.setSlippageTolerance(e)}prepareInputValue(e){let l=e.replace("%","");return l.length&&l[0]==="0"&&l[1]==="0"&&(l=l.replace(/^0+(?=\d)/,"")),l}handleSlippageToleranceOnBlur(){let e=this.slippageTolerance;c.FPNumber.lt(this.getFPNumber(this.slippageTolerance),this.getFPNumber(this.slippageToleranceExtremeValues.min))&&(e=`${this.slippageToleranceExtremeValues.min}`),this.setSlippageTolerance(e),this.slippageToleranceFocused=!1}handleSlippageToleranceOnFocus(){this.slippageToleranceFocused=!0}handleSetTransactionDeadline(e){this.setTransactionDeadline(e)}handleCollapseChange(){this.slippageToleranceOpened=!this.slippageToleranceOpened}};r([g.settings.slippageTolerance],i.prototype,"slippageTolerance",2);r([g.settings.transactionDeadline],i.prototype,"transactionDeadline",2);r([u.settings.setSlippageTolerance],i.prototype,"setSlippageTolerance",2);r([u.settings.setTransactionDeadline],i.prototype,"setTransactionDeadline",2);i=r([S({components:{SettingsTabs:_(x.SettingsTabs),InfoLine:b.InfoLine}})],i);var F=function(){var a=this,e=a._self._c;return a._self._setupProxy,e("div",{staticClass:"slippage-tolerance",class:a.computedClasses},[e("s-collapse",{on:{change:a.handleCollapseChange}},[e("s-collapse-item",{scopedSlots:a._u([{key:"title",fn:function(){return[e("info-line",{attrs:{label:a.t("dexSettings.slippageTolerance"),"label-tooltip":a.t("dexSettings.slippageToleranceHint"),value:a.localeFormattedSlippageTolerance}})]},proxy:!0}])},[e("div",{class:a.slippageToleranceClasses},[e("div",{staticClass:"slippage-tolerance-default"},[e("settings-tabs",{attrs:{value:a.slippageTolerance,tabs:a.SlippageToleranceTabs},on:{input:a.selectTab}})],1),e("div",{staticClass:"slippage-tolerance-custom"},[e("s-float-input",{staticClass:"slippage-tolerance-custom_input",attrs:{size:"small",decimals:2,"has-locale-string":"",delimiters:a.delimiters,max:a.slippageToleranceExtremeValues.max},on:{blur:a.handleSlippageToleranceOnBlur,focus:a.handleSlippageToleranceOnFocus},model:{value:a.customSlippageTolerance,callback:function(l){a.customSlippageTolerance=l},expression:"customSlippageTolerance"}})],1),a.slippageToleranceValidation?e("div",{staticClass:"slippage-tolerance_validation"},[a._v(" "+a._s(a.t(`dexSettings.slippageToleranceValidation.${a.slippageToleranceValidation}`))+" ")]):a._e()])])],1)],1)},O=[],E=v(i,F,O,!1,null,"3057e21d");const P=E.exports;export{P as default};
